// Copyright 2023 Ant Group Co., Ltd.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

package translator

var translateWithCCLTestCases = []sPair{
	{`select ta.groupby_long_0 from alice.tbl_0 as ta WHERE groupby_long_0>0 UNION (select tb.groupby_long_0 from bob.tbl_0 as tb GROUP BY tb.groupby_long_0);`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select any_value(ta.groupby_long_0) as expr_183 from alice.tbl_0 as ta where ta.groupby_long_0>0 group by ta.groupby_long_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select any_value(t_0.expr_52) as expr_183 from (select any_value(tb.groupby_long_0) as expr_52,count(1) as expr_182 from bob.tbl_0 as tb group by tb.groupby_long_0 having count(1)>=4) as t_0 group by t_0.expr_52,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="make_share:{in:[In:{t_0,},],out:[Out:{t_2,},],attr:[],party:[alice,bob,carol,]}"]
3 [label="make_share:{in:[In:{t_1,},],out:[Out:{t_3,},],attr:[],party:[alice,bob,carol,]}"]
4 [label="concat:{in:[In:{t_2,t_3,},],out:[Out:{t_4,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
5 [label="make_private:{in:[In:{t_4,},],out:[Out:{t_5,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
6 [label="group:{in:[Key:{t_5,},],out:[GroupId:{t_6,},GroupNum:{t_7,},],attr:[],party:[alice,]}"]
7 [label="firstrow:{in:[GroupId:{t_6,},GroupNum:{t_7,},In:{t_5,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
8 [label="publish:{in:[In:{t_8,},],out:[Out:{t_9,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{Column#183:PRIVATE:INT64}"]
1 -> 3 [label = "t_1:{Column#183:PRIVATE:INT64}"]
2 -> 4 [label = "t_2:{Column#183:SECRET:INT64}"]
3 -> 4 [label = "t_3:{Column#183:SECRET:INT64}"]
4 -> 5 [label = "t_4:{Column#183:SECRET:INT64}"]
5 -> 6 [label = "t_5:{Column#183:PRIVATE:INT64}"]
5 -> 7 [label = "t_5:{Column#183:PRIVATE:INT64}"]
6 -> 7 [label = "t_6:{group_id:PRIVATE:INT64}"]
6 -> 7 [label = "t_7:{group_num:PRIVATE:INT64}"]
7 -> 8 [label = "t_8:{Column#183_firstrow:PRIVATE:INT64}"]
}`},
	{`select count(distinct (if(ta.encrypt_long_0>1, tb.join_string_0, "aa"))) from  alice.tbl_0 as ta inner join bob.tbl_0 as tb on ta.join_string_0=tb.join_string_0 group by tb.groupby_long_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.encrypt_long_0,ta.join_string_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select tb.groupby_long_0,tb.join_string_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_3,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="make_share:{in:[In:{t_8,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_6,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="make_share:{in:[In:{t_7,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_share:{in:[In:{t_9,},],out:[Out:{t_13,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="sort:{in:[In:{t_10,t_11,t_12,t_10,t_13,},Key:{t_10,},],out:[Out:{t_14,t_15,t_16,t_17,t_18,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
10 [label="group_mark:{in:[Key:{t_14,},],out:[Group:{t_19,},],attr:[],party:[alice,bob,carol,]}"]
11 [label="make_constant:{in:[],out:[Out:{t_20,},],attr:[scalar:1,to_status:1,],party:[alice,bob,carol,]}"]
12 [label="broadcast:{in:[In:{t_20,},ShapeRefTensor:{t_15,},],out:[Out:{t_21,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_private:{in:[In:{t_15,},],out:[Out:{t_22,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
14 [label="make_private:{in:[In:{t_21,},],out:[Out:{t_23,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
15 [label="Greater:{in:[Left:{t_22,},Right:{t_23,},],out:[Out:{t_24,},],attr:[],party:[alice,]}"]
16 [label="make_constant:{in:[],out:[Out:{t_25,},],attr:[scalar:aa,to_status:1,],party:[alice,bob,carol,]}"]
17 [label="broadcast:{in:[In:{t_25,},ShapeRefTensor:{t_18,},],out:[Out:{t_26,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="make_private:{in:[In:{t_26,},],out:[Out:{t_28,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
19 [label="make_private:{in:[In:{t_18,},],out:[Out:{t_29,},],attr:[reveal_to:bob,],party:[alice,bob,carol,]}"]
20 [label="copy:{in:[In:{t_29,},],out:[Out:{t_30,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
21 [label="If:{in:[Condition:{t_24,},ValueIfFalse:{t_28,},ValueIfTrue:{t_30,},],out:[Out:{t_27,},],attr:[],party:[alice,]}"]
22 [label="make_share:{in:[In:{t_27,},],out:[Out:{t_31,},],attr:[],party:[alice,bob,carol,]}"]
23 [label="sort:{in:[In:{t_31,},Key:{t_14,t_31,},],out:[Out:{t_32,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
24 [label="group_mark:{in:[Key:{t_32,},],out:[Group:{t_33,},],attr:[],party:[alice,bob,carol,]}"]
25 [label="LogicalOr:{in:[Left:{t_19,},Right:{t_33,},],out:[Out:{t_34,},],attr:[],party:[alice,bob,carol,]}"]
26 [label="sum:{in:[Group:{t_19,},In:{t_34,},],out:[Out:{t_35,},],attr:[],party:[alice,bob,carol,]}"]
27 [label="count:{in:[Group:{t_19,},In:{t_19,},],out:[Out:{t_36,},],attr:[],party:[alice,bob,carol,]}"]
28 [label="shuffle:{in:[In:{t_35,t_36,t_19,},],out:[Out:{t_37,t_38,t_39,},],attr:[],party:[alice,bob,carol,]}"]
29 [label="make_public:{in:[In:{t_39,},],out:[Out:{t_40,},],attr:[],party:[alice,bob,carol,]}"]
30 [label="filter:{in:[Filter:{t_40,},In:{t_37,t_38,},],out:[Out:{t_41,t_42,},],attr:[],party:[alice,bob,carol,]}"]
31 [label="make_constant:{in:[],out:[Out:{t_43,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
32 [label="broadcast:{in:[In:{t_43,},ShapeRefTensor:{t_42,},],out:[Out:{t_44,},],attr:[],party:[alice,bob,carol,]}"]
33 [label="make_private:{in:[In:{t_42,},],out:[Out:{t_45,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
34 [label="make_private:{in:[In:{t_44,},],out:[Out:{t_46,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
35 [label="GreaterEqual:{in:[Left:{t_45,},Right:{t_46,},],out:[Out:{t_47,},],attr:[],party:[alice,]}"]
36 [label="make_public:{in:[In:{t_47,},],out:[Out:{t_48,},],attr:[],party:[alice,bob,carol,]}"]
37 [label="apply_filter:{in:[Filter:{t_48,},In:{t_41,t_42,},],out:[Out:{t_49,t_50,},],attr:[],party:[alice,bob,carol,]}"]
38 [label="make_private:{in:[In:{t_49,},],out:[Out:{t_51,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
39 [label="publish:{in:[In:{t_51,},],out:[Out:{t_52,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_string_0:PRIVATE:STRING}"]
0 -> 3 [label = "t_0:{encrypt_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_string_0:PRIVATE:STRING}"]
1 -> 2 [label = "t_3:{join_string_0:PRIVATE:STRING}"]
1 -> 4 [label = "t_2:{groupby_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{join_string_0:PRIVATE:STRING}"]
10 -> 25 [label = "t_19:{group_mark:SECRET:BOOL}"]
10 -> 26 [label = "t_19:{group_mark:SECRET:BOOL}"]
10 -> 27 [label = "t_19:{group_mark:SECRET:BOOL}"]
10 -> 27 [label = "t_19:{group_mark:SECRET:BOOL}"]
10 -> 28 [label = "t_19:{group_mark:SECRET:BOOL}"]
11 -> 12 [label = "t_20:{constant_data:PUBLIC:INT64}"]
12 -> 14 [label = "t_21:{constant_data:PUBLIC:INT64}"]
13 -> 15 [label = "t_22:{encrypt_long_0:PRIVATE:INT64}"]
14 -> 15 [label = "t_23:{constant_data:PRIVATE:INT64}"]
15 -> 21 [label = "t_24:{Greater_out:PRIVATE:BOOL}"]
16 -> 17 [label = "t_25:{constant_data:PUBLIC:STRING}"]
17 -> 18 [label = "t_26:{constant_data:PUBLIC:STRING}"]
18 -> 21 [label = "t_28:{constant_data:PRIVATE:STRING}"]
19 -> 20 [label = "t_29:{join_string_0:PRIVATE:STRING}"]
2 -> 3 [label = "t_4:{join_string_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{join_string_0:PRIVATE:INT64}"]
20 -> 21 [label = "t_30:{join_string_0:PRIVATE:STRING}"]
21 -> 22 [label = "t_27:{join_string_0:PRIVATE:STRING}"]
22 -> 23 [label = "t_31:{join_string_0:SECRET:STRING}"]
22 -> 23 [label = "t_31:{join_string_0:SECRET:STRING}"]
23 -> 24 [label = "t_32:{join_string_0:SECRET:STRING}"]
24 -> 25 [label = "t_33:{group_mark:SECRET:BOOL}"]
25 -> 26 [label = "t_34:{LogicalOr_out:SECRET:BOOL}"]
26 -> 28 [label = "t_35:{LogicalOr_out:SECRET:INT64}"]
27 -> 28 [label = "t_36:{group_mark:SECRET:INT64}"]
28 -> 29 [label = "t_39:{group_mark:SECRET:BOOL}"]
28 -> 30 [label = "t_37:{LogicalOr_out:SECRET:INT64}"]
28 -> 30 [label = "t_38:{group_mark:SECRET:INT64}"]
29 -> 30 [label = "t_40:{group_mark:PUBLIC:BOOL}"]
3 -> 6 [label = "t_6:{encrypt_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_7:{join_string_0:PRIVATE:STRING}"]
30 -> 32 [label = "t_42:{group_mark:SECRET:INT64}"]
30 -> 33 [label = "t_42:{group_mark:SECRET:INT64}"]
30 -> 37 [label = "t_41:{LogicalOr_out:SECRET:INT64}"]
30 -> 37 [label = "t_42:{group_mark:SECRET:INT64}"]
31 -> 32 [label = "t_43:{constant_data:PUBLIC:INT64}"]
32 -> 34 [label = "t_44:{constant_data:PUBLIC:INT64}"]
33 -> 35 [label = "t_45:{group_mark:PRIVATE:INT64}"]
34 -> 35 [label = "t_46:{constant_data:PRIVATE:INT64}"]
35 -> 36 [label = "t_47:{GreaterEqual_out:PRIVATE:BOOL}"]
36 -> 37 [label = "t_48:{GreaterEqual_out:PUBLIC:BOOL}"]
37 -> 38 [label = "t_49:{LogicalOr_out:SECRET:INT64}"]
38 -> 39 [label = "t_51:{LogicalOr_out:PRIVATE:INT64}"]
4 -> 5 [label = "t_8:{groupby_long_0:PRIVATE:INT64}"]
4 -> 8 [label = "t_9:{join_string_0:PRIVATE:STRING}"]
5 -> 9 [label = "t_10:{groupby_long_0:SECRET:INT64}"]
5 -> 9 [label = "t_10:{groupby_long_0:SECRET:INT64}"]
5 -> 9 [label = "t_10:{groupby_long_0:SECRET:INT64}"]
6 -> 9 [label = "t_11:{encrypt_long_0:SECRET:INT64}"]
7 -> 9 [label = "t_12:{join_string_0:SECRET:STRING}"]
8 -> 9 [label = "t_13:{join_string_0:SECRET:STRING}"]
9 -> 10 [label = "t_14:{groupby_long_0:SECRET:INT64}"]
9 -> 12 [label = "t_15:{encrypt_long_0:SECRET:INT64}"]
9 -> 13 [label = "t_15:{encrypt_long_0:SECRET:INT64}"]
9 -> 17 [label = "t_18:{join_string_0:SECRET:STRING}"]
9 -> 19 [label = "t_18:{join_string_0:SECRET:STRING}"]
9 -> 23 [label = "t_14:{groupby_long_0:SECRET:INT64}"]
}`},
	{`select count(1) from (select aggregate_long_0 from alice.tbl_0 as ta union select aggregate_long_0 from bob.tbl_0) ua;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select any_value(1) as expr_184,any_value(ta.aggregate_long_0) as expr_181 from alice.tbl_0 as ta group by ta.aggregate_long_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select any_value(1) as expr_184,any_value(tbl_0.aggregate_long_0) as expr_181 from bob.tbl_0 group by tbl_0.aggregate_long_0,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="make_share:{in:[In:{t_0,},],out:[Out:{t_4,},],attr:[],party:[alice,bob,carol,]}"]
3 [label="make_share:{in:[In:{t_2,},],out:[Out:{t_5,},],attr:[],party:[alice,bob,carol,]}"]
4 [label="concat:{in:[In:{t_4,t_5,},],out:[Out:{t_6,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
5 [label="make_share:{in:[In:{t_1,},],out:[Out:{t_7,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_3,},],out:[Out:{t_8,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="concat:{in:[In:{t_7,t_8,},],out:[Out:{t_9,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
8 [label="sort:{in:[In:{t_9,t_6,t_9,},Key:{t_9,},],out:[Out:{t_10,t_11,t_12,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
9 [label="group_mark:{in:[Key:{t_10,},],out:[Group:{t_13,},],attr:[],party:[alice,bob,carol,]}"]
10 [label="shuffle:{in:[In:{t_11,t_13,},],out:[Out:{t_14,t_15,},],attr:[],party:[alice,bob,carol,]}"]
11 [label="make_public:{in:[In:{t_15,},],out:[Out:{t_16,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="filter:{in:[Filter:{t_16,},In:{t_14,},],out:[Out:{t_17,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="shape:{in:[In:{t_17,},],out:[Out:{t_18,},],attr:[axis:0,],party:[alice,]}"]
14 [label="publish:{in:[In:{t_18,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{Column#184:PRIVATE:BOOL}"]
0 -> 5 [label = "t_1:{Column#181:PRIVATE:INT64}"]
1 -> 3 [label = "t_2:{Column#184:PRIVATE:BOOL}"]
1 -> 6 [label = "t_3:{Column#181:PRIVATE:INT64}"]
10 -> 11 [label = "t_15:{group_mark:SECRET:BOOL}"]
10 -> 12 [label = "t_14:{Column#184:SECRET:BOOL}"]
11 -> 12 [label = "t_16:{group_mark:PUBLIC:BOOL}"]
12 -> 13 [label = "t_17:{Column#184:SECRET:BOOL}"]
13 -> 14 [label = "t_18:{Column#184:PRIVATE:INT64}"]
2 -> 4 [label = "t_4:{Column#184:SECRET:BOOL}"]
3 -> 4 [label = "t_5:{Column#184:SECRET:BOOL}"]
4 -> 8 [label = "t_6:{Column#184:SECRET:BOOL}"]
5 -> 7 [label = "t_7:{Column#181:SECRET:INT64}"]
6 -> 7 [label = "t_8:{Column#181:SECRET:INT64}"]
7 -> 8 [label = "t_9:{Column#181:SECRET:INT64}"]
7 -> 8 [label = "t_9:{Column#181:SECRET:INT64}"]
7 -> 8 [label = "t_9:{Column#181:SECRET:INT64}"]
8 -> 10 [label = "t_11:{Column#184:SECRET:BOOL}"]
8 -> 9 [label = "t_10:{Column#181:SECRET:INT64}"]
9 -> 10 [label = "t_13:{group_mark:SECRET:BOOL}"]
}`},
	{`select ta.plain_long_0, ta.compare_long_0 < tb.compare_long_0 from alice.tbl_1 as ta inner join bob.tbl_1 as tb on ta.join_long_0=tb.join_long_0 limit 1,11;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,},],attr:[sql:select ta.compare_long_0,ta.join_long_0,ta.plain_long_0 from alice.tbl_1 as ta,table_refs:[alice.tbl_1],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_3,t_4,},],attr:[sql:select tb.compare_long_0,tb.join_long_0 from bob.tbl_1 as tb,table_refs:[bob.tbl_1],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_4,},],out:[LeftJoinIndex:{t_5,},RightJoinIndex:{t_6,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,t_2,},RowsIndexFilter:{t_5,},],out:[Out:{t_7,t_8,t_9,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_3,t_4,},RowsIndexFilter:{t_6,},],out:[Out:{t_10,t_11,},],attr:[],party:[bob,]}"]
5 [label="make_share:{in:[In:{t_7,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_10,},],out:[Out:{t_13,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="Less:{in:[Left:{t_12,},Right:{t_13,},],out:[Out:{t_14,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="limit:{in:[In:{t_14,},],out:[Out:{t_15,},],attr:[count:11,offset:1,],party:[alice,bob,carol,]}"]
9 [label="limit:{in:[In:{t_9,},],out:[Out:{t_16,},],attr:[count:11,offset:1,],party:[alice,]}"]
10 [label="make_private:{in:[In:{t_15,},],out:[Out:{t_18,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
11 [label="publish:{in:[In:{t_16,t_18,},],out:[Out:{t_17,t_19,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
10 -> 11 [label = "t_18:{Less_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_6:{join_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_7:{compare_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_9:{plain_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_10:{compare_long_0:PRIVATE:INT64}"]
5 -> 7 [label = "t_12:{compare_long_0:SECRET:INT64}"]
6 -> 7 [label = "t_13:{compare_long_0:SECRET:INT64}"]
7 -> 8 [label = "t_14:{Less_out:SECRET:BOOL}"]
8 -> 10 [label = "t_15:{Less_out:SECRET:BOOL}"]
9 -> 11 [label = "t_16:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select ta.plain_long_0,tb.plain_long_0, sum(tb.aggregate_long_0), count(tb.encrypt_string_1) from alice.tbl_1 as ta inner join bob.tbl_1 as tb on ta.join_long_0 = tb.join_long_0 group by ta.plain_long_0, tb.plain_long_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.join_long_0,ta.plain_long_0 from alice.tbl_1 as ta,table_refs:[alice.tbl_1],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,t_4,t_5,},],attr:[sql:select tb.aggregate_long_0,tb.encrypt_string_1,tb.join_long_0,tb.plain_long_0 from bob.tbl_1 as tb,table_refs:[bob.tbl_1],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_4,},],out:[LeftJoinIndex:{t_6,},RightJoinIndex:{t_7,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_6,},],out:[Out:{t_8,t_9,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,t_4,t_5,},RowsIndexFilter:{t_7,},],out:[Out:{t_10,t_11,t_12,t_13,},],attr:[],party:[bob,]}"]
5 [label="copy:{in:[In:{t_13,},],out:[Out:{t_14,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
6 [label="group:{in:[Key:{t_9,t_14,},],out:[GroupId:{t_15,},GroupNum:{t_16,},],attr:[],party:[alice,]}"]
7 [label="he_sum:{in:[GroupId:{t_15,},GroupNum:{t_16,},In:{t_10,},],out:[Out:{t_17,},],attr:[input_party_codes:[alice bob],],party:[alice,bob,]}"]
8 [label="count:{in:[GroupId:{t_15,},GroupNum:{t_16,},In:{t_15,},],out:[Out:{t_18,},],attr:[],party:[alice,]}"]
9 [label="firstrow:{in:[GroupId:{t_15,},GroupNum:{t_16,},In:{t_9,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
10 [label="firstrow:{in:[GroupId:{t_15,},GroupNum:{t_16,},In:{t_14,},],out:[Out:{t_20,},],attr:[],party:[alice,]}"]
11 [label="make_constant:{in:[],out:[Out:{t_21,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
12 [label="broadcast:{in:[In:{t_21,},ShapeRefTensor:{t_18,},],out:[Out:{t_22,},],attr:[],party:[alice,]}"]
13 [label="GreaterEqual:{in:[Left:{t_18,},Right:{t_22,},],out:[Out:{t_23,},],attr:[],party:[alice,]}"]
14 [label="apply_filter:{in:[Filter:{t_23,},In:{t_19,t_20,t_18,},],out:[Out:{t_24,t_25,t_26,},],attr:[],party:[alice,]}"]
15 [label="copy:{in:[In:{t_23,},],out:[Out:{t_27,},],attr:[input_party_codes:alice,output_party_codes:bob,],party:[alice,bob,]}"]
16 [label="apply_filter:{in:[Filter:{t_27,},In:{t_17,},],out:[Out:{t_28,},],attr:[],party:[bob,]}"]
17 [label="copy:{in:[In:{t_28,},],out:[Out:{t_31,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
18 [label="publish:{in:[In:{t_24,t_25,t_31,t_26,},],out:[Out:{t_29,t_30,t_32,t_33,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{aggregate_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{encrypt_string_1:PRIVATE:STRING}"]
1 -> 4 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
10 -> 14 [label = "t_20:{plain_long_0_firstrow:PRIVATE:INT64}"]
11 -> 12 [label = "t_21:{constant_data:PUBLIC:INT64}"]
12 -> 13 [label = "t_22:{constant_data:PRIVATE:INT64}"]
13 -> 14 [label = "t_23:{GreaterEqual_out:PRIVATE:BOOL}"]
13 -> 15 [label = "t_23:{GreaterEqual_out:PRIVATE:BOOL}"]
14 -> 18 [label = "t_24:{plain_long_0_firstrow:PRIVATE:INT64}"]
14 -> 18 [label = "t_25:{plain_long_0_firstrow:PRIVATE:INT64}"]
14 -> 18 [label = "t_26:{group_id_count:PRIVATE:INT64}"]
15 -> 16 [label = "t_27:{GreaterEqual_out:PRIVATE:BOOL}"]
16 -> 17 [label = "t_28:{aggregate_long_0_sum:PRIVATE:INT64}"]
17 -> 18 [label = "t_31:{aggregate_long_0_sum:PRIVATE:INT64}"]
2 -> 3 [label = "t_6:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_9:{plain_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_9:{plain_long_0:PRIVATE:INT64}"]
4 -> 5 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
4 -> 7 [label = "t_10:{aggregate_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_14:{plain_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_14:{plain_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_15:{group_id:PRIVATE:INT64}"]
6 -> 10 [label = "t_16:{group_num:PRIVATE:INT64}"]
6 -> 7 [label = "t_15:{group_id:PRIVATE:INT64}"]
6 -> 7 [label = "t_16:{group_num:PRIVATE:INT64}"]
6 -> 8 [label = "t_15:{group_id:PRIVATE:INT64}"]
6 -> 8 [label = "t_15:{group_id:PRIVATE:INT64}"]
6 -> 8 [label = "t_16:{group_num:PRIVATE:INT64}"]
6 -> 9 [label = "t_15:{group_id:PRIVATE:INT64}"]
6 -> 9 [label = "t_16:{group_num:PRIVATE:INT64}"]
7 -> 16 [label = "t_17:{aggregate_long_0_sum:PRIVATE:INT64}"]
8 -> 12 [label = "t_18:{group_id_count:PRIVATE:INT64}"]
8 -> 13 [label = "t_18:{group_id_count:PRIVATE:INT64}"]
8 -> 14 [label = "t_18:{group_id_count:PRIVATE:INT64}"]
9 -> 14 [label = "t_19:{plain_long_0_firstrow:PRIVATE:INT64}"]
}`},
	{`select plain_long_0 from alice.tbl_1 where plain_long_0 in (2, 5, 15) and plain_long_1 not in (2, 5, 15);`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select tbl_1.plain_long_0 from alice.tbl_1 where (tbl_1.plain_long_0=2 or tbl_1.plain_long_0=5 or tbl_1.plain_long_0=15) and (not(tbl_1.plain_long_1=2 or tbl_1.plain_long_1=5 or tbl_1.plain_long_1=15)),table_refs:[alice.tbl_1],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select count(*), bob.gb_pl_en_long_0, carol.gb_en_pl_long_0, min(bob.ag_pl_en_long_0), max(carol.agg_en_pl_long_0) from alice.tbl_3 as alice join bob.tbl_3 as bob on alice.pl_jn_cp_long_0 = bob.jn_pl_cp_long_0 join carol.tbl_3 as carol on bob.cp_pl_jn_long_0 = carol.cp_jn_pl_long_0 group by bob.gb_pl_en_long_0, carol.gb_en_pl_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select alice.pl_jn_cp_long_0 from alice.tbl_3 as alice,table_refs:[alice.tbl_3],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,t_2,t_3,t_4,},],attr:[sql:select bob.ag_pl_en_long_0,bob.cp_pl_jn_long_0,bob.gb_pl_en_long_0,bob.jn_pl_cp_long_0 from bob.tbl_3 as bob,table_refs:[bob.tbl_3],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_4,},],out:[LeftJoinIndex:{t_5,},RightJoinIndex:{t_6,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_5,},],out:[Out:{t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,t_2,t_3,t_4,},RowsIndexFilter:{t_6,},],out:[Out:{t_8,t_9,t_10,t_11,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_12,t_13,t_14,},],attr:[sql:select carol.agg_en_pl_long_0,carol.cp_jn_pl_long_0,carol.gb_en_pl_long_0 from carol.tbl_3 as carol,table_refs:[carol.tbl_3],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_9,},Right:{t_13,},],out:[LeftJoinIndex:{t_15,},RightJoinIndex:{t_16,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_15,},],out:[Out:{t_17,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_7,},RowsIndexFilter:{t_17,},],out:[Out:{t_18,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_8,t_9,t_10,t_11,},RowsIndexFilter:{t_15,},],out:[Out:{t_19,t_20,t_21,t_22,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_12,t_13,t_14,},RowsIndexFilter:{t_16,},],out:[Out:{t_23,t_24,t_25,},],attr:[],party:[carol,]}"]
11 [label="make_share:{in:[In:{t_21,},],out:[Out:{t_26,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="make_share:{in:[In:{t_25,},],out:[Out:{t_27,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_share:{in:[In:{t_18,},],out:[Out:{t_28,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_share:{in:[In:{t_19,},],out:[Out:{t_29,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="make_share:{in:[In:{t_20,},],out:[Out:{t_30,},],attr:[],party:[alice,bob,carol,]}"]
16 [label="make_share:{in:[In:{t_22,},],out:[Out:{t_31,},],attr:[],party:[alice,bob,carol,]}"]
17 [label="make_share:{in:[In:{t_23,},],out:[Out:{t_32,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="make_share:{in:[In:{t_24,},],out:[Out:{t_33,},],attr:[],party:[alice,bob,carol,]}"]
19 [label="sort:{in:[In:{t_26,t_27,t_28,t_29,t_30,t_26,t_31,t_32,t_33,t_27,},Key:{t_26,t_27,},],out:[Out:{t_34,t_35,t_36,t_37,t_38,t_39,t_40,t_41,t_42,t_43,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
20 [label="group_mark:{in:[Key:{t_34,t_35,},],out:[Group:{t_44,},],attr:[],party:[alice,bob,carol,]}"]
21 [label="count:{in:[Group:{t_44,},In:{t_44,},],out:[Out:{t_45,},],attr:[],party:[alice,bob,carol,]}"]
22 [label="min:{in:[Group:{t_44,},In:{t_37,},],out:[Out:{t_46,},],attr:[],party:[alice,bob,carol,]}"]
23 [label="max:{in:[Group:{t_44,},In:{t_41,},],out:[Out:{t_47,},],attr:[],party:[alice,bob,carol,]}"]
24 [label="shuffle:{in:[In:{t_45,t_46,t_47,t_39,t_43,t_44,},],out:[Out:{t_48,t_49,t_50,t_51,t_52,t_53,},],attr:[],party:[alice,bob,carol,]}"]
25 [label="make_public:{in:[In:{t_53,},],out:[Out:{t_54,},],attr:[],party:[alice,bob,carol,]}"]
26 [label="filter:{in:[Filter:{t_54,},In:{t_48,t_49,t_50,t_51,t_52,},],out:[Out:{t_55,t_56,t_57,t_58,t_59,},],attr:[],party:[alice,bob,carol,]}"]
27 [label="make_constant:{in:[],out:[Out:{t_60,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
28 [label="broadcast:{in:[In:{t_60,},ShapeRefTensor:{t_55,},],out:[Out:{t_61,},],attr:[],party:[alice,bob,carol,]}"]
29 [label="make_private:{in:[In:{t_55,},],out:[Out:{t_62,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
30 [label="make_private:{in:[In:{t_61,},],out:[Out:{t_63,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
31 [label="GreaterEqual:{in:[Left:{t_62,},Right:{t_63,},],out:[Out:{t_64,},],attr:[],party:[alice,]}"]
32 [label="make_private:{in:[In:{t_58,},],out:[Out:{t_65,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
33 [label="make_private:{in:[In:{t_59,},],out:[Out:{t_66,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
34 [label="make_private:{in:[In:{t_56,},],out:[Out:{t_67,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
35 [label="make_private:{in:[In:{t_57,},],out:[Out:{t_68,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
36 [label="apply_filter:{in:[Filter:{t_64,},In:{t_65,t_66,t_62,t_67,t_68,},],out:[Out:{t_69,t_70,t_71,t_72,t_73,},],attr:[],party:[alice,]}"]
37 [label="publish:{in:[In:{t_71,t_69,t_70,t_72,t_73,},],out:[Out:{t_74,t_75,t_76,t_77,t_78,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{pl_jn_cp_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{pl_jn_cp_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_4:{jn_pl_cp_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{ag_pl_en_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{cp_pl_jn_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{gb_pl_en_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_4:{jn_pl_cp_long_0:PRIVATE:INT64}"]
10 -> 12 [label = "t_25:{gb_en_pl_long_0:PRIVATE:INT64}"]
10 -> 17 [label = "t_23:{agg_en_pl_long_0:PRIVATE:INT64}"]
10 -> 18 [label = "t_24:{cp_jn_pl_long_0:PRIVATE:INT64}"]
11 -> 19 [label = "t_26:{gb_pl_en_long_0:SECRET:INT64}"]
11 -> 19 [label = "t_26:{gb_pl_en_long_0:SECRET:INT64}"]
11 -> 19 [label = "t_26:{gb_pl_en_long_0:SECRET:INT64}"]
12 -> 19 [label = "t_27:{gb_en_pl_long_0:SECRET:INT64}"]
12 -> 19 [label = "t_27:{gb_en_pl_long_0:SECRET:INT64}"]
12 -> 19 [label = "t_27:{gb_en_pl_long_0:SECRET:INT64}"]
13 -> 19 [label = "t_28:{pl_jn_cp_long_0:SECRET:INT64}"]
14 -> 19 [label = "t_29:{ag_pl_en_long_0:SECRET:INT64}"]
15 -> 19 [label = "t_30:{cp_pl_jn_long_0:SECRET:INT64}"]
16 -> 19 [label = "t_31:{jn_pl_cp_long_0:SECRET:INT64}"]
17 -> 19 [label = "t_32:{agg_en_pl_long_0:SECRET:INT64}"]
18 -> 19 [label = "t_33:{cp_jn_pl_long_0:SECRET:INT64}"]
19 -> 20 [label = "t_34:{gb_pl_en_long_0:SECRET:INT64}"]
19 -> 20 [label = "t_35:{gb_en_pl_long_0:SECRET:INT64}"]
19 -> 22 [label = "t_37:{ag_pl_en_long_0:SECRET:INT64}"]
19 -> 23 [label = "t_41:{agg_en_pl_long_0:SECRET:INT64}"]
19 -> 24 [label = "t_39:{gb_pl_en_long_0:SECRET:INT64}"]
19 -> 24 [label = "t_43:{gb_en_pl_long_0:SECRET:INT64}"]
2 -> 3 [label = "t_5:{pl_jn_cp_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_6:{jn_pl_cp_long_0:PRIVATE:INT64}"]
20 -> 21 [label = "t_44:{group_mark:SECRET:BOOL}"]
20 -> 21 [label = "t_44:{group_mark:SECRET:BOOL}"]
20 -> 22 [label = "t_44:{group_mark:SECRET:BOOL}"]
20 -> 23 [label = "t_44:{group_mark:SECRET:BOOL}"]
20 -> 24 [label = "t_44:{group_mark:SECRET:BOOL}"]
21 -> 24 [label = "t_45:{group_mark:SECRET:INT64}"]
22 -> 24 [label = "t_46:{ag_pl_en_long_0:SECRET:INT64}"]
23 -> 24 [label = "t_47:{agg_en_pl_long_0:SECRET:INT64}"]
24 -> 25 [label = "t_53:{group_mark:SECRET:BOOL}"]
24 -> 26 [label = "t_48:{group_mark:SECRET:INT64}"]
24 -> 26 [label = "t_49:{ag_pl_en_long_0:SECRET:INT64}"]
24 -> 26 [label = "t_50:{agg_en_pl_long_0:SECRET:INT64}"]
24 -> 26 [label = "t_51:{gb_pl_en_long_0:SECRET:INT64}"]
24 -> 26 [label = "t_52:{gb_en_pl_long_0:SECRET:INT64}"]
25 -> 26 [label = "t_54:{group_mark:PUBLIC:BOOL}"]
26 -> 28 [label = "t_55:{group_mark:SECRET:INT64}"]
26 -> 29 [label = "t_55:{group_mark:SECRET:INT64}"]
26 -> 32 [label = "t_58:{gb_pl_en_long_0:SECRET:INT64}"]
26 -> 33 [label = "t_59:{gb_en_pl_long_0:SECRET:INT64}"]
26 -> 34 [label = "t_56:{ag_pl_en_long_0:SECRET:INT64}"]
26 -> 35 [label = "t_57:{agg_en_pl_long_0:SECRET:INT64}"]
27 -> 28 [label = "t_60:{constant_data:PUBLIC:INT64}"]
28 -> 30 [label = "t_61:{constant_data:PUBLIC:INT64}"]
29 -> 31 [label = "t_62:{group_mark:PRIVATE:INT64}"]
29 -> 36 [label = "t_62:{group_mark:PRIVATE:INT64}"]
3 -> 8 [label = "t_7:{pl_jn_cp_long_0:PRIVATE:INT64}"]
30 -> 31 [label = "t_63:{constant_data:PRIVATE:INT64}"]
31 -> 36 [label = "t_64:{GreaterEqual_out:PRIVATE:BOOL}"]
32 -> 36 [label = "t_65:{gb_pl_en_long_0:PRIVATE:INT64}"]
33 -> 36 [label = "t_66:{gb_en_pl_long_0:PRIVATE:INT64}"]
34 -> 36 [label = "t_67:{ag_pl_en_long_0:PRIVATE:INT64}"]
35 -> 36 [label = "t_68:{agg_en_pl_long_0:PRIVATE:INT64}"]
36 -> 37 [label = "t_69:{gb_pl_en_long_0:PRIVATE:INT64}"]
36 -> 37 [label = "t_70:{gb_en_pl_long_0:PRIVATE:INT64}"]
36 -> 37 [label = "t_71:{group_mark:PRIVATE:INT64}"]
36 -> 37 [label = "t_72:{ag_pl_en_long_0:PRIVATE:INT64}"]
36 -> 37 [label = "t_73:{agg_en_pl_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_9:{cp_pl_jn_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_10:{gb_pl_en_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_11:{jn_pl_cp_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_8:{ag_pl_en_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_9:{cp_pl_jn_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_12:{agg_en_pl_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_13:{cp_jn_pl_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_14:{gb_en_pl_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_13:{cp_jn_pl_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_16:{cp_jn_pl_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_15:{cp_pl_jn_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_15:{cp_pl_jn_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_17:{cp_pl_jn_long_0:PRIVATE:INT64}"]
8 -> 13 [label = "t_18:{pl_jn_cp_long_0:PRIVATE:INT64}"]
9 -> 11 [label = "t_21:{gb_pl_en_long_0:PRIVATE:INT64}"]
9 -> 14 [label = "t_19:{ag_pl_en_long_0:PRIVATE:INT64}"]
9 -> 15 [label = "t_20:{cp_pl_jn_long_0:PRIVATE:INT64}"]
9 -> 16 [label = "t_22:{jn_pl_cp_long_0:PRIVATE:INT64}"]
}`},
	{`select bob.cp_pl_jn_long_0 > carol.cp_jn_pl_long_0, bob.cp_pl_jn_long_1 > carol.cp_jn_pl_long_1 from alice.tbl_3 as alice join bob.tbl_3 as bob on alice.pl_jn_cp_long_0 = bob.jn_pl_cp_long_0 join carol.tbl_3 as carol on bob.cp_pl_jn_long_0 = carol.cp_jn_pl_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select alice.pl_jn_cp_long_0 from alice.tbl_3 as alice,table_refs:[alice.tbl_3],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,t_2,t_3,},],attr:[sql:select bob.cp_pl_jn_long_0,bob.cp_pl_jn_long_1,bob.jn_pl_cp_long_0 from bob.tbl_3 as bob,table_refs:[bob.tbl_3],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_3,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_7,t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_10,t_11,},],attr:[sql:select carol.cp_jn_pl_long_0,carol.cp_jn_pl_long_1 from carol.tbl_3 as carol,table_refs:[carol.tbl_3],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_7,},Right:{t_10,},],out:[LeftJoinIndex:{t_12,},RightJoinIndex:{t_13,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_12,},],out:[Out:{t_14,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_6,},RowsIndexFilter:{t_14,},],out:[Out:{t_15,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_7,t_8,t_9,},RowsIndexFilter:{t_12,},],out:[Out:{t_16,t_17,t_18,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_10,t_11,},RowsIndexFilter:{t_13,},],out:[Out:{t_19,t_20,},],attr:[],party:[carol,]}"]
11 [label="copy:{in:[In:{t_19,},],out:[Out:{t_21,},],attr:[input_party_codes:carol,output_party_codes:bob,],party:[carol,bob,]}"]
12 [label="Greater:{in:[Left:{t_16,},Right:{t_21,},],out:[Out:{t_22,},],attr:[],party:[bob,]}"]
13 [label="make_share:{in:[In:{t_17,},],out:[Out:{t_23,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_share:{in:[In:{t_20,},],out:[Out:{t_24,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="Greater:{in:[Left:{t_23,},Right:{t_24,},],out:[Out:{t_25,},],attr:[],party:[alice,bob,carol,]}"]
16 [label="copy:{in:[In:{t_22,},],out:[Out:{t_26,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
17 [label="make_private:{in:[In:{t_25,},],out:[Out:{t_28,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
18 [label="publish:{in:[In:{t_26,t_28,},],out:[Out:{t_27,t_29,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{pl_jn_cp_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{pl_jn_cp_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_3:{jn_pl_cp_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{cp_pl_jn_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{cp_pl_jn_long_1:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{jn_pl_cp_long_0:PRIVATE:INT64}"]
10 -> 11 [label = "t_19:{cp_jn_pl_long_0:PRIVATE:INT64}"]
10 -> 14 [label = "t_20:{cp_jn_pl_long_1:PRIVATE:INT64}"]
11 -> 12 [label = "t_21:{cp_jn_pl_long_0:PRIVATE:INT64}"]
12 -> 16 [label = "t_22:{Greater_out:PRIVATE:BOOL}"]
13 -> 15 [label = "t_23:{cp_pl_jn_long_1:SECRET:INT64}"]
14 -> 15 [label = "t_24:{cp_jn_pl_long_1:SECRET:INT64}"]
15 -> 17 [label = "t_25:{Greater_out:SECRET:BOOL}"]
16 -> 18 [label = "t_26:{Greater_out:PRIVATE:BOOL}"]
17 -> 18 [label = "t_28:{Greater_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_4:{pl_jn_cp_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{jn_pl_cp_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_6:{pl_jn_cp_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_7:{cp_pl_jn_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_7:{cp_pl_jn_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_8:{cp_pl_jn_long_1:PRIVATE:INT64}"]
4 -> 9 [label = "t_9:{jn_pl_cp_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_10:{cp_jn_pl_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_11:{cp_jn_pl_long_1:PRIVATE:INT64}"]
5 -> 6 [label = "t_10:{cp_jn_pl_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_13:{cp_jn_pl_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_12:{cp_pl_jn_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_12:{cp_pl_jn_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_14:{cp_pl_jn_long_0:PRIVATE:INT64}"]
9 -> 12 [label = "t_16:{cp_pl_jn_long_0:PRIVATE:INT64}"]
9 -> 13 [label = "t_17:{cp_pl_jn_long_1:PRIVATE:INT64}"]
}`},
	{`select bob.cp_pl_jn_long_0 > carol.cp_jn_pl_long_0 from alice.tbl_3 as alice join bob.tbl_3 as bob on alice.pl_jn_cp_long_0 = bob.jn_pl_cp_long_0 join carol.tbl_3 as carol on bob.cp_pl_jn_long_0 = carol.cp_jn_pl_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select alice.pl_jn_cp_long_0 from alice.tbl_3 as alice,table_refs:[alice.tbl_3],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,t_2,},],attr:[sql:select bob.cp_pl_jn_long_0,bob.jn_pl_cp_long_0 from bob.tbl_3 as bob,table_refs:[bob.tbl_3],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_2,},],out:[LeftJoinIndex:{t_3,},RightJoinIndex:{t_4,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,t_2,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_8,},],attr:[sql:select carol.cp_jn_pl_long_0 from carol.tbl_3 as carol,table_refs:[carol.tbl_3],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_6,},Right:{t_8,},],out:[LeftJoinIndex:{t_9,},RightJoinIndex:{t_10,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_9,},],out:[Out:{t_11,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_5,},RowsIndexFilter:{t_11,},],out:[Out:{t_12,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_6,t_7,},RowsIndexFilter:{t_9,},],out:[Out:{t_13,t_14,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_8,},RowsIndexFilter:{t_10,},],out:[Out:{t_15,},],attr:[],party:[carol,]}"]
11 [label="copy:{in:[In:{t_15,},],out:[Out:{t_16,},],attr:[input_party_codes:carol,output_party_codes:bob,],party:[carol,bob,]}"]
12 [label="Greater:{in:[Left:{t_13,},Right:{t_16,},],out:[Out:{t_17,},],attr:[],party:[bob,]}"]
13 [label="copy:{in:[In:{t_17,},],out:[Out:{t_18,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
14 [label="publish:{in:[In:{t_18,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{pl_jn_cp_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{pl_jn_cp_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{jn_pl_cp_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{cp_pl_jn_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{jn_pl_cp_long_0:PRIVATE:INT64}"]
10 -> 11 [label = "t_15:{cp_jn_pl_long_0:PRIVATE:INT64}"]
11 -> 12 [label = "t_16:{cp_jn_pl_long_0:PRIVATE:INT64}"]
12 -> 13 [label = "t_17:{Greater_out:PRIVATE:BOOL}"]
13 -> 14 [label = "t_18:{Greater_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_3:{pl_jn_cp_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_4:{jn_pl_cp_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_5:{pl_jn_cp_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_6:{cp_pl_jn_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_6:{cp_pl_jn_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_7:{jn_pl_cp_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_8:{cp_jn_pl_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_8:{cp_jn_pl_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_10:{cp_jn_pl_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_9:{cp_pl_jn_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_9:{cp_pl_jn_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_11:{cp_pl_jn_long_0:PRIVATE:INT64}"]
9 -> 12 [label = "t_13:{cp_pl_jn_long_0:PRIVATE:INT64}"]
}`},
	{`select if(ta.plain_long_0, tb.plain_long_0, ta.plain_long_0) as res,if(ta.compare_long_0 > tb.compare_long_0, ta.compare_long_0, tb.compare_long_0) > ta.compare_long_1 as res1, if(ta.plain_long_0, ta.compare_long_0, tb.compare_long_0) > ta.compare_long_1 as res1, if(ta.compare_long_0 > tb.compare_long_1, ta.plain_string_0, tb.plain_string_0) as res2 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.join_long_0 = tb.join_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,t_3,t_4,},],attr:[sql:select ta.compare_long_0,ta.compare_long_1,ta.join_long_0,ta.plain_long_0,ta.plain_string_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_5,t_6,t_7,t_8,t_9,},],attr:[sql:select tb.compare_long_0,tb.compare_long_1,tb.join_long_0,tb.plain_long_0,tb.plain_string_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_2,},Right:{t_7,},],out:[LeftJoinIndex:{t_10,},RightJoinIndex:{t_11,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,t_2,t_3,t_4,},RowsIndexFilter:{t_10,},],out:[Out:{t_12,t_13,t_14,t_15,t_16,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_5,t_6,t_7,t_8,t_9,},RowsIndexFilter:{t_11,},],out:[Out:{t_17,t_18,t_19,t_20,t_21,},],attr:[],party:[bob,]}"]
5 [label="copy:{in:[In:{t_20,},],out:[Out:{t_23,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
6 [label="If:{in:[Condition:{t_15,},ValueIfFalse:{t_15,},ValueIfTrue:{t_23,},],out:[Out:{t_22,},],attr:[],party:[alice,]}"]
7 [label="make_share:{in:[In:{t_12,},],out:[Out:{t_24,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_share:{in:[In:{t_17,},],out:[Out:{t_25,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="Greater:{in:[Left:{t_24,},Right:{t_25,},],out:[Out:{t_26,},],attr:[],party:[alice,bob,carol,]}"]
10 [label="If:{in:[Condition:{t_26,},ValueIfFalse:{t_25,},ValueIfTrue:{t_24,},],out:[Out:{t_27,},],attr:[],party:[alice,bob,carol,]}"]
11 [label="make_share:{in:[In:{t_13,},],out:[Out:{t_28,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="Greater:{in:[Left:{t_27,},Right:{t_28,},],out:[Out:{t_29,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_share:{in:[In:{t_15,},],out:[Out:{t_31,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="If:{in:[Condition:{t_31,},ValueIfFalse:{t_25,},ValueIfTrue:{t_24,},],out:[Out:{t_30,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="Greater:{in:[Left:{t_30,},Right:{t_28,},],out:[Out:{t_32,},],attr:[],party:[alice,bob,carol,]}"]
16 [label="make_share:{in:[In:{t_18,},],out:[Out:{t_33,},],attr:[],party:[alice,bob,carol,]}"]
17 [label="Greater:{in:[Left:{t_24,},Right:{t_33,},],out:[Out:{t_34,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="make_private:{in:[In:{t_34,},],out:[Out:{t_36,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
19 [label="copy:{in:[In:{t_21,},],out:[Out:{t_37,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
20 [label="If:{in:[Condition:{t_36,},ValueIfFalse:{t_37,},ValueIfTrue:{t_16,},],out:[Out:{t_35,},],attr:[],party:[alice,]}"]
21 [label="make_private:{in:[In:{t_29,},],out:[Out:{t_39,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
22 [label="make_private:{in:[In:{t_32,},],out:[Out:{t_41,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
23 [label="publish:{in:[In:{t_22,t_39,t_41,t_35,},],out:[Out:{t_38,t_40,t_42,t_43,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{compare_long_1:PRIVATE:INT64}"]
0 -> 3 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_4:{plain_string_0:PRIVATE:STRING}"]
1 -> 2 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_5:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_6:{compare_long_1:PRIVATE:INT64}"]
1 -> 4 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_8:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_9:{plain_string_0:PRIVATE:STRING}"]
10 -> 12 [label = "t_27:{compare_long_0:SECRET:INT64}"]
11 -> 12 [label = "t_28:{compare_long_1:SECRET:INT64}"]
11 -> 15 [label = "t_28:{compare_long_1:SECRET:INT64}"]
12 -> 21 [label = "t_29:{Greater_out:SECRET:BOOL}"]
13 -> 14 [label = "t_31:{plain_long_0:SECRET:INT64}"]
14 -> 15 [label = "t_30:{compare_long_0:SECRET:INT64}"]
15 -> 22 [label = "t_32:{Greater_out:SECRET:BOOL}"]
16 -> 17 [label = "t_33:{compare_long_1:SECRET:INT64}"]
17 -> 18 [label = "t_34:{Greater_out:SECRET:BOOL}"]
18 -> 20 [label = "t_36:{Greater_out:PRIVATE:BOOL}"]
19 -> 20 [label = "t_37:{plain_string_0:PRIVATE:STRING}"]
2 -> 3 [label = "t_10:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_11:{join_long_0:PRIVATE:INT64}"]
20 -> 23 [label = "t_35:{plain_string_0:PRIVATE:STRING}"]
21 -> 23 [label = "t_39:{Greater_out:PRIVATE:BOOL}"]
22 -> 23 [label = "t_41:{Greater_out:PRIVATE:BOOL}"]
3 -> 11 [label = "t_13:{compare_long_1:PRIVATE:INT64}"]
3 -> 13 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
3 -> 20 [label = "t_16:{plain_string_0:PRIVATE:STRING}"]
3 -> 6 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_12:{compare_long_0:PRIVATE:INT64}"]
4 -> 16 [label = "t_18:{compare_long_1:PRIVATE:INT64}"]
4 -> 19 [label = "t_21:{plain_string_0:PRIVATE:STRING}"]
4 -> 5 [label = "t_20:{plain_long_0:PRIVATE:INT64}"]
4 -> 8 [label = "t_17:{compare_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_23:{plain_long_0:PRIVATE:INT64}"]
6 -> 23 [label = "t_22:{plain_long_0:PRIVATE:INT64}"]
7 -> 10 [label = "t_24:{compare_long_0:SECRET:INT64}"]
7 -> 14 [label = "t_24:{compare_long_0:SECRET:INT64}"]
7 -> 17 [label = "t_24:{compare_long_0:SECRET:INT64}"]
7 -> 9 [label = "t_24:{compare_long_0:SECRET:INT64}"]
8 -> 10 [label = "t_25:{compare_long_0:SECRET:INT64}"]
8 -> 14 [label = "t_25:{compare_long_0:SECRET:INT64}"]
8 -> 9 [label = "t_25:{compare_long_0:SECRET:INT64}"]
9 -> 10 [label = "t_26:{Greater_out:SECRET:BOOL}"]
}`},
	{`select key1, key2, count(*) as c, count(distinct bob_encrypt) as cd, sum(bob_aggregate) as sb, max(carol_aggregate) as sc, min(carol_aggregate) as min_ca, avg(carol_aggregate) as avg_ca from (select bob.plain_long_0 as bob_encrypt, bob.plain_long_0 as bob_aggregate, carol.plain_long_0 as carol_aggregate, alice.plain_long_0 as alice_join, bob.plain_long_0 as bob_join, carol.plain_long_0 as carol_join, alice.plain_long_0 + bob.plain_long_0 as key1, carol.plain_long_0 + bob.plain_long_0 as key2 from alice.tbl_0 as alice, bob.tbl_0 as bob, carol.tbl_0 as carol) as tt where alice_join = bob_join and bob_join = carol_join group by key1, key2;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select alice.plain_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select bob.plain_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_1,},],out:[LeftJoinIndex:{t_2,},RightJoinIndex:{t_3,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_2,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_6,},],attr:[sql:select carol.plain_long_0 from carol.tbl_0 as carol,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_5,},Right:{t_6,},],out:[LeftJoinIndex:{t_7,},RightJoinIndex:{t_8,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_7,},],out:[Out:{t_9,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_4,},RowsIndexFilter:{t_9,},],out:[Out:{t_10,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_5,},RowsIndexFilter:{t_7,},],out:[Out:{t_11,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_6,},RowsIndexFilter:{t_8,},],out:[Out:{t_12,},],attr:[],party:[carol,]}"]
11 [label="copy:{in:[In:{t_11,},],out:[Out:{t_13,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
12 [label="Add:{in:[Left:{t_10,},Right:{t_13,},],out:[Out:{t_14,},],attr:[],party:[alice,]}"]
13 [label="copy:{in:[In:{t_12,},],out:[Out:{t_15,},],attr:[input_party_codes:carol,output_party_codes:alice,],party:[carol,alice,]}"]
14 [label="Add:{in:[Left:{t_15,},Right:{t_13,},],out:[Out:{t_16,},],attr:[],party:[alice,]}"]
15 [label="group:{in:[Key:{t_14,t_16,},],out:[GroupId:{t_17,},GroupNum:{t_18,},],attr:[],party:[alice,]}"]
16 [label="count:{in:[GroupId:{t_17,},GroupNum:{t_18,},In:{t_17,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
17 [label="count_distinct:{in:[GroupId:{t_17,},GroupNum:{t_18,},In:{t_13,},],out:[Out:{t_20,},],attr:[],party:[alice,]}"]
18 [label="sum:{in:[GroupId:{t_17,},GroupNum:{t_18,},In:{t_13,},],out:[Out:{t_21,},],attr:[],party:[alice,]}"]
19 [label="max:{in:[GroupId:{t_17,},GroupNum:{t_18,},In:{t_15,},],out:[Out:{t_22,},],attr:[],party:[alice,]}"]
20 [label="min:{in:[GroupId:{t_17,},GroupNum:{t_18,},In:{t_15,},],out:[Out:{t_23,},],attr:[],party:[alice,]}"]
21 [label="avg:{in:[GroupId:{t_17,},GroupNum:{t_18,},In:{t_15,},],out:[Out:{t_24,},],attr:[],party:[alice,]}"]
22 [label="Add:{in:[Left:{t_10,},Right:{t_13,},],out:[Out:{t_25,},],attr:[],party:[alice,]}"]
23 [label="firstrow:{in:[GroupId:{t_17,},GroupNum:{t_18,},In:{t_25,},],out:[Out:{t_26,},],attr:[],party:[alice,]}"]
24 [label="Add:{in:[Left:{t_15,},Right:{t_13,},],out:[Out:{t_27,},],attr:[],party:[alice,]}"]
25 [label="firstrow:{in:[GroupId:{t_17,},GroupNum:{t_18,},In:{t_27,},],out:[Out:{t_28,},],attr:[],party:[alice,]}"]
26 [label="make_constant:{in:[],out:[Out:{t_29,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
27 [label="broadcast:{in:[In:{t_29,},ShapeRefTensor:{t_19,},],out:[Out:{t_30,},],attr:[],party:[alice,]}"]
28 [label="GreaterEqual:{in:[Left:{t_19,},Right:{t_30,},],out:[Out:{t_31,},],attr:[],party:[alice,]}"]
29 [label="apply_filter:{in:[Filter:{t_31,},In:{t_26,t_28,t_19,t_20,t_21,t_22,t_23,t_24,},],out:[Out:{t_32,t_33,t_34,t_35,t_36,t_37,t_38,t_39,},],attr:[],party:[alice,]}"]
30 [label="publish:{in:[In:{t_32,t_33,t_34,t_35,t_36,t_37,t_38,t_39,},],out:[Out:{t_40,t_41,t_42,t_43,t_44,t_45,t_46,t_47,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
10 -> 13 [label = "t_12:{plain_long_0:PRIVATE:INT64}"]
11 -> 12 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
11 -> 14 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
11 -> 17 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
11 -> 18 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
11 -> 22 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
11 -> 24 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
12 -> 15 [label = "t_14:{Add_out:PRIVATE:INT64}"]
13 -> 14 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
13 -> 19 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
13 -> 20 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
13 -> 21 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
13 -> 24 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
14 -> 15 [label = "t_16:{Add_out:PRIVATE:INT64}"]
15 -> 16 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 16 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 16 [label = "t_18:{group_num:PRIVATE:INT64}"]
15 -> 17 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 17 [label = "t_18:{group_num:PRIVATE:INT64}"]
15 -> 18 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 18 [label = "t_18:{group_num:PRIVATE:INT64}"]
15 -> 19 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 19 [label = "t_18:{group_num:PRIVATE:INT64}"]
15 -> 20 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 20 [label = "t_18:{group_num:PRIVATE:INT64}"]
15 -> 21 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 21 [label = "t_18:{group_num:PRIVATE:INT64}"]
15 -> 23 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 23 [label = "t_18:{group_num:PRIVATE:INT64}"]
15 -> 25 [label = "t_17:{group_id:PRIVATE:INT64}"]
15 -> 25 [label = "t_18:{group_num:PRIVATE:INT64}"]
16 -> 27 [label = "t_19:{group_id_count:PRIVATE:INT64}"]
16 -> 28 [label = "t_19:{group_id_count:PRIVATE:INT64}"]
16 -> 29 [label = "t_19:{group_id_count:PRIVATE:INT64}"]
17 -> 29 [label = "t_20:{plain_long_0_count_distinct:PRIVATE:INT64}"]
18 -> 29 [label = "t_21:{plain_long_0_sum:PRIVATE:INT64}"]
19 -> 29 [label = "t_22:{plain_long_0_max:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
20 -> 29 [label = "t_23:{plain_long_0_min:PRIVATE:INT64}"]
21 -> 29 [label = "t_24:{plain_long_0_avg:PRIVATE:FLOAT64}"]
22 -> 23 [label = "t_25:{Add_out:PRIVATE:INT64}"]
23 -> 29 [label = "t_26:{Add_out_firstrow:PRIVATE:INT64}"]
24 -> 25 [label = "t_27:{Add_out:PRIVATE:INT64}"]
25 -> 29 [label = "t_28:{Add_out_firstrow:PRIVATE:INT64}"]
26 -> 27 [label = "t_29:{constant_data:PUBLIC:INT64}"]
27 -> 28 [label = "t_30:{constant_data:PRIVATE:INT64}"]
28 -> 29 [label = "t_31:{GreaterEqual_out:PRIVATE:BOOL}"]
29 -> 30 [label = "t_32:{Add_out_firstrow:PRIVATE:INT64}"]
29 -> 30 [label = "t_33:{Add_out_firstrow:PRIVATE:INT64}"]
29 -> 30 [label = "t_34:{group_id_count:PRIVATE:INT64}"]
29 -> 30 [label = "t_35:{plain_long_0_count_distinct:PRIVATE:INT64}"]
29 -> 30 [label = "t_36:{plain_long_0_sum:PRIVATE:INT64}"]
29 -> 30 [label = "t_37:{plain_long_0_max:PRIVATE:INT64}"]
29 -> 30 [label = "t_38:{plain_long_0_min:PRIVATE:INT64}"]
29 -> 30 [label = "t_39:{plain_long_0_avg:PRIVATE:FLOAT64}"]
3 -> 8 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_6:{plain_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_6:{plain_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_8:{plain_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_7:{plain_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_7:{plain_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_9:{plain_long_0:PRIVATE:INT64}"]
8 -> 12 [label = "t_10:{plain_long_0:PRIVATE:INT64}"]
8 -> 22 [label = "t_10:{plain_long_0:PRIVATE:INT64}"]
9 -> 11 [label = "t_11:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select count(*) from (select ta.groupby_string_0 from alice.tbl_0 as ta union select tb.groupby_string_0 from bob.tbl_0 as tb union select tc.groupby_string_0 from carol.tbl_0 as tc) as uu`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select any_value(1) as expr_274,any_value(ta.groupby_string_0) as expr_271 from alice.tbl_0 as ta group by ta.groupby_string_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select any_value(1) as expr_274,any_value(tb.groupby_string_0) as expr_271 from bob.tbl_0 as tb group by tb.groupby_string_0,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="runsql:{in:[],out:[Out:{t_4,t_5,},],attr:[sql:select any_value(1) as expr_274,any_value(tc.groupby_string_0) as expr_271 from carol.tbl_0 as tc group by tc.groupby_string_0,table_refs:[carol.tbl_0],],party:[carol,]}"]
3 [label="make_share:{in:[In:{t_0,},],out:[Out:{t_6,},],attr:[],party:[alice,bob,carol,]}"]
4 [label="make_share:{in:[In:{t_2,},],out:[Out:{t_7,},],attr:[],party:[alice,bob,carol,]}"]
5 [label="make_share:{in:[In:{t_4,},],out:[Out:{t_8,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="concat:{in:[In:{t_6,t_7,t_8,},],out:[Out:{t_9,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
7 [label="make_share:{in:[In:{t_1,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_share:{in:[In:{t_3,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="make_share:{in:[In:{t_5,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
10 [label="concat:{in:[In:{t_10,t_11,t_12,},],out:[Out:{t_13,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
11 [label="make_public:{in:[In:{t_13,},],out:[Out:{t_14,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="make_private:{in:[In:{t_14,},],out:[Out:{t_15,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
13 [label="group:{in:[Key:{t_15,},],out:[GroupId:{t_16,},GroupNum:{t_17,},],attr:[],party:[alice,]}"]
14 [label="make_private:{in:[In:{t_9,},],out:[Out:{t_18,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
15 [label="firstrow:{in:[GroupId:{t_16,},GroupNum:{t_17,},In:{t_18,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
16 [label="shape:{in:[In:{t_19,},],out:[Out:{t_20,},],attr:[axis:0,],party:[alice,]}"]
17 [label="publish:{in:[In:{t_20,},],out:[Out:{t_21,},],attr:[],party:[alice,]}"]
0 -> 3 [label = "t_0:{Column#274:PRIVATE:BOOL}"]
0 -> 7 [label = "t_1:{Column#271:PRIVATE:STRING}"]
1 -> 4 [label = "t_2:{Column#274:PRIVATE:BOOL}"]
1 -> 8 [label = "t_3:{Column#271:PRIVATE:STRING}"]
10 -> 11 [label = "t_13:{Column#271:SECRET:STRING}"]
11 -> 12 [label = "t_14:{Column#271:PUBLIC:STRING}"]
12 -> 13 [label = "t_15:{Column#271:PRIVATE:STRING}"]
13 -> 15 [label = "t_16:{group_id:PRIVATE:INT64}"]
13 -> 15 [label = "t_17:{group_num:PRIVATE:INT64}"]
14 -> 15 [label = "t_18:{Column#274:PRIVATE:BOOL}"]
15 -> 16 [label = "t_19:{Column#274_firstrow:PRIVATE:BOOL}"]
16 -> 17 [label = "t_20:{Column#274_firstrow:PRIVATE:INT64}"]
2 -> 5 [label = "t_4:{Column#274:PRIVATE:BOOL}"]
2 -> 9 [label = "t_5:{Column#271:PRIVATE:STRING}"]
3 -> 6 [label = "t_6:{Column#274:SECRET:BOOL}"]
4 -> 6 [label = "t_7:{Column#274:SECRET:BOOL}"]
5 -> 6 [label = "t_8:{Column#274:SECRET:BOOL}"]
6 -> 14 [label = "t_9:{Column#274:SECRET:BOOL}"]
7 -> 10 [label = "t_10:{Column#271:SECRET:STRING}"]
8 -> 10 [label = "t_11:{Column#271:SECRET:STRING}"]
9 -> 10 [label = "t_12:{Column#271:SECRET:STRING}"]
}`},
	{`select alice.encrypt_float_1 from alice.tbl_0 as alice, bob.tbl_0 as bob, carol.tbl_0 as carol where alice.plain_long_0 = bob.join_long_0 and bob.join_long_1 = carol.join_long_1;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select alice.encrypt_float_1,alice.plain_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select bob.join_long_0,bob.join_long_1 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_2,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_10,},],attr:[sql:select carol.join_long_1 from carol.tbl_0 as carol,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_9,},Right:{t_10,},],out:[LeftJoinIndex:{t_11,},RightJoinIndex:{t_12,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_11,},],out:[Out:{t_13,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_6,t_7,},RowsIndexFilter:{t_13,},],out:[Out:{t_14,t_15,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_8,t_9,},RowsIndexFilter:{t_11,},],out:[Out:{t_16,t_17,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_10,},RowsIndexFilter:{t_12,},],out:[Out:{t_18,},],attr:[],party:[carol,]}"]
11 [label="publish:{in:[In:{t_14,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{encrypt_float_1:PRIVATE:FLOAT32}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{join_long_1:PRIVATE:INT64}"]
2 -> 3 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_6:{encrypt_float_1:PRIVATE:FLOAT32}"]
3 -> 8 [label = "t_7:{plain_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_9:{join_long_1:PRIVATE:INT64}"]
4 -> 9 [label = "t_8:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_9:{join_long_1:PRIVATE:INT64}"]
5 -> 10 [label = "t_10:{join_long_1:PRIVATE:INT64}"]
5 -> 6 [label = "t_10:{join_long_1:PRIVATE:INT64}"]
6 -> 10 [label = "t_12:{join_long_1:PRIVATE:INT64}"]
6 -> 7 [label = "t_11:{join_long_1:PRIVATE:INT64}"]
6 -> 9 [label = "t_11:{join_long_1:PRIVATE:INT64}"]
7 -> 8 [label = "t_13:{join_long_1:PRIVATE:INT64}"]
8 -> 11 [label = "t_14:{encrypt_float_1:PRIVATE:FLOAT32}"]
}`},
	{`select count(*) as c, count(distinct bob.encrypt_long_0) as cd, sum(bob.aggregate_long_0) as sb, sum(carol.aggregate_long_0) as sc from alice.tbl_0 as alice, bob.tbl_0 as bob, carol.tbl_0 as carol where alice.join_long_0 = bob.join_long_0 and bob.join_long_0 = carol.join_long_0 group by alice.groupby_long_0 + bob.groupby_long_0, carol.groupby_long_0 + bob.groupby_long_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select alice.groupby_long_0,alice.join_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,t_4,t_5,},],attr:[sql:select bob.aggregate_long_0,bob.encrypt_long_0,bob.groupby_long_0,bob.join_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_5,},],out:[LeftJoinIndex:{t_6,},RightJoinIndex:{t_7,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_6,},],out:[Out:{t_8,t_9,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,t_4,t_5,},RowsIndexFilter:{t_7,},],out:[Out:{t_10,t_11,t_12,t_13,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_14,t_15,t_16,},],attr:[sql:select carol.aggregate_long_0,carol.groupby_long_0,carol.join_long_0 from carol.tbl_0 as carol,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_13,},Right:{t_16,},],out:[LeftJoinIndex:{t_17,},RightJoinIndex:{t_18,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_17,},],out:[Out:{t_19,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_8,t_9,},RowsIndexFilter:{t_19,},],out:[Out:{t_20,t_21,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_10,t_11,t_12,t_13,},RowsIndexFilter:{t_17,},],out:[Out:{t_22,t_23,t_24,t_25,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_14,t_15,t_16,},RowsIndexFilter:{t_18,},],out:[Out:{t_26,t_27,t_28,},],attr:[],party:[carol,]}"]
11 [label="make_share:{in:[In:{t_20,},],out:[Out:{t_29,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="make_share:{in:[In:{t_24,},],out:[Out:{t_30,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="Add:{in:[Left:{t_29,},Right:{t_30,},],out:[Out:{t_31,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_share:{in:[In:{t_27,},],out:[Out:{t_32,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="Add:{in:[Left:{t_32,},Right:{t_30,},],out:[Out:{t_33,},],attr:[],party:[alice,bob,carol,]}"]
16 [label="make_share:{in:[In:{t_21,},],out:[Out:{t_34,},],attr:[],party:[alice,bob,carol,]}"]
17 [label="make_share:{in:[In:{t_22,},],out:[Out:{t_35,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="make_share:{in:[In:{t_23,},],out:[Out:{t_36,},],attr:[],party:[alice,bob,carol,]}"]
19 [label="make_share:{in:[In:{t_25,},],out:[Out:{t_37,},],attr:[],party:[alice,bob,carol,]}"]
20 [label="make_share:{in:[In:{t_26,},],out:[Out:{t_38,},],attr:[],party:[alice,bob,carol,]}"]
21 [label="make_share:{in:[In:{t_28,},],out:[Out:{t_39,},],attr:[],party:[alice,bob,carol,]}"]
22 [label="sort:{in:[In:{t_31,t_33,t_29,t_34,t_35,t_36,t_30,t_37,t_38,t_32,t_39,},Key:{t_31,t_33,},],out:[Out:{t_40,t_41,t_42,t_43,t_44,t_45,t_46,t_47,t_48,t_49,t_50,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
23 [label="group_mark:{in:[Key:{t_40,t_41,},],out:[Group:{t_51,},],attr:[],party:[alice,bob,carol,]}"]
24 [label="count:{in:[Group:{t_51,},In:{t_51,},],out:[Out:{t_52,},],attr:[],party:[alice,bob,carol,]}"]
25 [label="sort:{in:[In:{t_45,},Key:{t_40,t_41,t_45,},],out:[Out:{t_53,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
26 [label="group_mark:{in:[Key:{t_53,},],out:[Group:{t_54,},],attr:[],party:[alice,bob,carol,]}"]
27 [label="LogicalOr:{in:[Left:{t_51,},Right:{t_54,},],out:[Out:{t_55,},],attr:[],party:[alice,bob,carol,]}"]
28 [label="sum:{in:[Group:{t_51,},In:{t_55,},],out:[Out:{t_56,},],attr:[],party:[alice,bob,carol,]}"]
29 [label="sum:{in:[Group:{t_51,},In:{t_44,},],out:[Out:{t_57,},],attr:[],party:[alice,bob,carol,]}"]
30 [label="sum:{in:[Group:{t_51,},In:{t_48,},],out:[Out:{t_58,},],attr:[],party:[alice,bob,carol,]}"]
31 [label="shuffle:{in:[In:{t_52,t_56,t_57,t_58,t_51,},],out:[Out:{t_59,t_60,t_61,t_62,t_63,},],attr:[],party:[alice,bob,carol,]}"]
32 [label="make_public:{in:[In:{t_63,},],out:[Out:{t_64,},],attr:[],party:[alice,bob,carol,]}"]
33 [label="filter:{in:[Filter:{t_64,},In:{t_59,t_60,t_61,t_62,},],out:[Out:{t_65,t_66,t_67,t_68,},],attr:[],party:[alice,bob,carol,]}"]
34 [label="make_constant:{in:[],out:[Out:{t_69,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
35 [label="broadcast:{in:[In:{t_69,},ShapeRefTensor:{t_65,},],out:[Out:{t_70,},],attr:[],party:[alice,bob,carol,]}"]
36 [label="make_private:{in:[In:{t_65,},],out:[Out:{t_71,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
37 [label="make_private:{in:[In:{t_70,},],out:[Out:{t_72,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
38 [label="GreaterEqual:{in:[Left:{t_71,},Right:{t_72,},],out:[Out:{t_73,},],attr:[],party:[alice,]}"]
39 [label="make_public:{in:[In:{t_73,},],out:[Out:{t_74,},],attr:[],party:[alice,bob,carol,]}"]
40 [label="apply_filter:{in:[Filter:{t_74,},In:{t_65,t_66,t_67,t_68,},],out:[Out:{t_75,t_76,t_77,t_78,},],attr:[],party:[alice,bob,carol,]}"]
41 [label="make_private:{in:[In:{t_75,},],out:[Out:{t_79,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
42 [label="make_private:{in:[In:{t_76,},],out:[Out:{t_81,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
43 [label="make_private:{in:[In:{t_77,},],out:[Out:{t_83,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
44 [label="make_private:{in:[In:{t_78,},],out:[Out:{t_85,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
45 [label="publish:{in:[In:{t_79,t_81,t_83,t_85,},],out:[Out:{t_80,t_82,t_84,t_86,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{groupby_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{aggregate_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{encrypt_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_4:{groupby_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
10 -> 14 [label = "t_27:{groupby_long_0:PRIVATE:INT64}"]
10 -> 20 [label = "t_26:{aggregate_long_0:PRIVATE:INT64}"]
10 -> 21 [label = "t_28:{join_long_0:PRIVATE:INT64}"]
11 -> 13 [label = "t_29:{groupby_long_0:SECRET:INT64}"]
11 -> 22 [label = "t_29:{groupby_long_0:SECRET:INT64}"]
12 -> 13 [label = "t_30:{groupby_long_0:SECRET:INT64}"]
12 -> 15 [label = "t_30:{groupby_long_0:SECRET:INT64}"]
12 -> 22 [label = "t_30:{groupby_long_0:SECRET:INT64}"]
13 -> 22 [label = "t_31:{Add_out:SECRET:INT64}"]
13 -> 22 [label = "t_31:{Add_out:SECRET:INT64}"]
14 -> 15 [label = "t_32:{groupby_long_0:SECRET:INT64}"]
14 -> 22 [label = "t_32:{groupby_long_0:SECRET:INT64}"]
15 -> 22 [label = "t_33:{Add_out:SECRET:INT64}"]
15 -> 22 [label = "t_33:{Add_out:SECRET:INT64}"]
16 -> 22 [label = "t_34:{join_long_0:SECRET:INT64}"]
17 -> 22 [label = "t_35:{aggregate_long_0:SECRET:INT64}"]
18 -> 22 [label = "t_36:{encrypt_long_0:SECRET:INT64}"]
19 -> 22 [label = "t_37:{join_long_0:SECRET:INT64}"]
2 -> 3 [label = "t_6:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
20 -> 22 [label = "t_38:{aggregate_long_0:SECRET:INT64}"]
21 -> 22 [label = "t_39:{join_long_0:SECRET:INT64}"]
22 -> 23 [label = "t_40:{Add_out:SECRET:INT64}"]
22 -> 23 [label = "t_41:{Add_out:SECRET:INT64}"]
22 -> 25 [label = "t_40:{Add_out:SECRET:INT64}"]
22 -> 25 [label = "t_41:{Add_out:SECRET:INT64}"]
22 -> 25 [label = "t_45:{encrypt_long_0:SECRET:INT64}"]
22 -> 25 [label = "t_45:{encrypt_long_0:SECRET:INT64}"]
22 -> 29 [label = "t_44:{aggregate_long_0:SECRET:INT64}"]
22 -> 30 [label = "t_48:{aggregate_long_0:SECRET:INT64}"]
23 -> 24 [label = "t_51:{group_mark:SECRET:BOOL}"]
23 -> 24 [label = "t_51:{group_mark:SECRET:BOOL}"]
23 -> 27 [label = "t_51:{group_mark:SECRET:BOOL}"]
23 -> 28 [label = "t_51:{group_mark:SECRET:BOOL}"]
23 -> 29 [label = "t_51:{group_mark:SECRET:BOOL}"]
23 -> 30 [label = "t_51:{group_mark:SECRET:BOOL}"]
23 -> 31 [label = "t_51:{group_mark:SECRET:BOOL}"]
24 -> 31 [label = "t_52:{group_mark:SECRET:INT64}"]
25 -> 26 [label = "t_53:{encrypt_long_0:SECRET:INT64}"]
26 -> 27 [label = "t_54:{group_mark:SECRET:BOOL}"]
27 -> 28 [label = "t_55:{LogicalOr_out:SECRET:BOOL}"]
28 -> 31 [label = "t_56:{LogicalOr_out:SECRET:INT64}"]
29 -> 31 [label = "t_57:{aggregate_long_0:SECRET:INT64}"]
3 -> 8 [label = "t_8:{groupby_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
30 -> 31 [label = "t_58:{aggregate_long_0:SECRET:INT64}"]
31 -> 32 [label = "t_63:{group_mark:SECRET:BOOL}"]
31 -> 33 [label = "t_59:{group_mark:SECRET:INT64}"]
31 -> 33 [label = "t_60:{LogicalOr_out:SECRET:INT64}"]
31 -> 33 [label = "t_61:{aggregate_long_0:SECRET:INT64}"]
31 -> 33 [label = "t_62:{aggregate_long_0:SECRET:INT64}"]
32 -> 33 [label = "t_64:{group_mark:PUBLIC:BOOL}"]
33 -> 35 [label = "t_65:{group_mark:SECRET:INT64}"]
33 -> 36 [label = "t_65:{group_mark:SECRET:INT64}"]
33 -> 40 [label = "t_65:{group_mark:SECRET:INT64}"]
33 -> 40 [label = "t_66:{LogicalOr_out:SECRET:INT64}"]
33 -> 40 [label = "t_67:{aggregate_long_0:SECRET:INT64}"]
33 -> 40 [label = "t_68:{aggregate_long_0:SECRET:INT64}"]
34 -> 35 [label = "t_69:{constant_data:PUBLIC:INT64}"]
35 -> 37 [label = "t_70:{constant_data:PUBLIC:INT64}"]
36 -> 38 [label = "t_71:{group_mark:PRIVATE:INT64}"]
37 -> 38 [label = "t_72:{constant_data:PRIVATE:INT64}"]
38 -> 39 [label = "t_73:{GreaterEqual_out:PRIVATE:BOOL}"]
39 -> 40 [label = "t_74:{GreaterEqual_out:PUBLIC:BOOL}"]
4 -> 6 [label = "t_13:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_10:{aggregate_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_11:{encrypt_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_12:{groupby_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_13:{join_long_0:PRIVATE:INT64}"]
40 -> 41 [label = "t_75:{group_mark:SECRET:INT64}"]
40 -> 42 [label = "t_76:{LogicalOr_out:SECRET:INT64}"]
40 -> 43 [label = "t_77:{aggregate_long_0:SECRET:INT64}"]
40 -> 44 [label = "t_78:{aggregate_long_0:SECRET:INT64}"]
41 -> 45 [label = "t_79:{group_mark:PRIVATE:INT64}"]
42 -> 45 [label = "t_81:{LogicalOr_out:PRIVATE:INT64}"]
43 -> 45 [label = "t_83:{aggregate_long_0:PRIVATE:INT64}"]
44 -> 45 [label = "t_85:{aggregate_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_14:{aggregate_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_15:{groupby_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_17:{join_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_17:{join_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_19:{join_long_0:PRIVATE:INT64}"]
8 -> 11 [label = "t_20:{groupby_long_0:PRIVATE:INT64}"]
8 -> 16 [label = "t_21:{join_long_0:PRIVATE:INT64}"]
9 -> 12 [label = "t_24:{groupby_long_0:PRIVATE:INT64}"]
9 -> 17 [label = "t_22:{aggregate_long_0:PRIVATE:INT64}"]
9 -> 18 [label = "t_23:{encrypt_long_0:PRIVATE:INT64}"]
9 -> 19 [label = "t_25:{join_long_0:PRIVATE:INT64}"]
}`},
	{`select plain_string_0 in (select plain_long_0 from alice.tbl_1) as da from alice.tbl_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select tbl_0.plain_string_0 in (select tbl_1.plain_long_0 from alice.tbl_1) as da from alice.tbl_0,table_refs:[alice.tbl_0 alice.tbl_1],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{Column#181:PRIVATE:BOOL}"]
}`},
	{`select plain_string_0 from alice.tbl_0 where plain_string_0 in (select plain_long_0 from alice.tbl_1)`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select tbl_0.plain_string_0 from alice.tbl_0 where tbl_0.plain_string_0 in (select tbl_1.plain_long_0 from alice.tbl_1),table_refs:[alice.tbl_0 alice.tbl_1],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{plain_string_0:PRIVATE:STRING}"]
}`},
	{`select count(*) as c, count(distinct bob.encrypt_long_0) as cd, sum(bob.aggregate_long_0) as sb, sum(carol.aggregate_long_0) as sc from alice.tbl_0 as alice, bob.tbl_0 as bob, carol.tbl_0 as carol where alice.join_long_0 = bob.join_long_0 and bob.join_long_0 = carol.join_long_0 group by alice.groupby_long_0, bob.groupby_long_0, carol.groupby_long_0, carol.groupby_string_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select alice.groupby_long_0,alice.join_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,t_4,t_5,},],attr:[sql:select bob.aggregate_long_0,bob.encrypt_long_0,bob.groupby_long_0,bob.join_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_5,},],out:[LeftJoinIndex:{t_6,},RightJoinIndex:{t_7,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_6,},],out:[Out:{t_8,t_9,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,t_4,t_5,},RowsIndexFilter:{t_7,},],out:[Out:{t_10,t_11,t_12,t_13,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_14,t_15,t_16,t_17,},],attr:[sql:select carol.aggregate_long_0,carol.groupby_long_0,carol.groupby_string_0,carol.join_long_0 from carol.tbl_0 as carol,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_13,},Right:{t_17,},],out:[LeftJoinIndex:{t_18,},RightJoinIndex:{t_19,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_18,},],out:[Out:{t_20,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_8,t_9,},RowsIndexFilter:{t_20,},],out:[Out:{t_21,t_22,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_10,t_11,t_12,t_13,},RowsIndexFilter:{t_18,},],out:[Out:{t_23,t_24,t_25,t_26,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_14,t_15,t_16,t_17,},RowsIndexFilter:{t_19,},],out:[Out:{t_27,t_28,t_29,t_30,},],attr:[],party:[carol,]}"]
11 [label="group:{in:[Key:{t_28,t_29,},],out:[GroupId:{t_31,},GroupNum:{t_32,},],attr:[],party:[carol,]}"]
12 [label="make_share:{in:[In:{t_21,},],out:[Out:{t_33,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_share:{in:[In:{t_25,},],out:[Out:{t_34,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_share:{in:[In:{t_31,},],out:[Out:{t_35,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="make_share:{in:[In:{t_22,},],out:[Out:{t_36,},],attr:[],party:[alice,bob,carol,]}"]
16 [label="make_share:{in:[In:{t_23,},],out:[Out:{t_37,},],attr:[],party:[alice,bob,carol,]}"]
17 [label="make_share:{in:[In:{t_24,},],out:[Out:{t_38,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="make_share:{in:[In:{t_26,},],out:[Out:{t_39,},],attr:[],party:[alice,bob,carol,]}"]
19 [label="make_share:{in:[In:{t_27,},],out:[Out:{t_40,},],attr:[],party:[alice,bob,carol,]}"]
20 [label="make_share:{in:[In:{t_28,},],out:[Out:{t_41,},],attr:[],party:[alice,bob,carol,]}"]
21 [label="make_share:{in:[In:{t_29,},],out:[Out:{t_42,},],attr:[],party:[alice,bob,carol,]}"]
22 [label="make_share:{in:[In:{t_30,},],out:[Out:{t_43,},],attr:[],party:[alice,bob,carol,]}"]
23 [label="sort:{in:[In:{t_33,t_34,t_35,t_33,t_36,t_37,t_38,t_34,t_39,t_40,t_41,t_42,t_43,},Key:{t_33,t_34,t_35,},],out:[Out:{t_44,t_45,t_46,t_47,t_48,t_49,t_50,t_51,t_52,t_53,t_54,t_55,t_56,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
24 [label="group_mark:{in:[Key:{t_44,t_45,t_46,},],out:[Group:{t_57,},],attr:[],party:[alice,bob,carol,]}"]
25 [label="count:{in:[Group:{t_57,},In:{t_57,},],out:[Out:{t_58,},],attr:[],party:[alice,bob,carol,]}"]
26 [label="sort:{in:[In:{t_50,},Key:{t_44,t_45,t_46,t_50,},],out:[Out:{t_59,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
27 [label="group_mark:{in:[Key:{t_59,},],out:[Group:{t_60,},],attr:[],party:[alice,bob,carol,]}"]
28 [label="LogicalOr:{in:[Left:{t_57,},Right:{t_60,},],out:[Out:{t_61,},],attr:[],party:[alice,bob,carol,]}"]
29 [label="sum:{in:[Group:{t_57,},In:{t_61,},],out:[Out:{t_62,},],attr:[],party:[alice,bob,carol,]}"]
30 [label="sum:{in:[Group:{t_57,},In:{t_49,},],out:[Out:{t_63,},],attr:[],party:[alice,bob,carol,]}"]
31 [label="sum:{in:[Group:{t_57,},In:{t_53,},],out:[Out:{t_64,},],attr:[],party:[alice,bob,carol,]}"]
32 [label="shuffle:{in:[In:{t_58,t_62,t_63,t_64,t_57,},],out:[Out:{t_65,t_66,t_67,t_68,t_69,},],attr:[],party:[alice,bob,carol,]}"]
33 [label="make_public:{in:[In:{t_69,},],out:[Out:{t_70,},],attr:[],party:[alice,bob,carol,]}"]
34 [label="filter:{in:[Filter:{t_70,},In:{t_65,t_66,t_67,t_68,},],out:[Out:{t_71,t_72,t_73,t_74,},],attr:[],party:[alice,bob,carol,]}"]
35 [label="make_constant:{in:[],out:[Out:{t_75,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
36 [label="broadcast:{in:[In:{t_75,},ShapeRefTensor:{t_71,},],out:[Out:{t_76,},],attr:[],party:[alice,bob,carol,]}"]
37 [label="make_private:{in:[In:{t_71,},],out:[Out:{t_77,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
38 [label="make_private:{in:[In:{t_76,},],out:[Out:{t_78,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
39 [label="GreaterEqual:{in:[Left:{t_77,},Right:{t_78,},],out:[Out:{t_79,},],attr:[],party:[alice,]}"]
40 [label="make_public:{in:[In:{t_79,},],out:[Out:{t_80,},],attr:[],party:[alice,bob,carol,]}"]
41 [label="apply_filter:{in:[Filter:{t_80,},In:{t_71,t_72,t_73,t_74,},],out:[Out:{t_81,t_82,t_83,t_84,},],attr:[],party:[alice,bob,carol,]}"]
42 [label="make_private:{in:[In:{t_81,},],out:[Out:{t_85,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
43 [label="make_private:{in:[In:{t_82,},],out:[Out:{t_87,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
44 [label="make_private:{in:[In:{t_83,},],out:[Out:{t_89,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
45 [label="make_private:{in:[In:{t_84,},],out:[Out:{t_91,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
46 [label="publish:{in:[In:{t_85,t_87,t_89,t_91,},],out:[Out:{t_86,t_88,t_90,t_92,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{groupby_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{aggregate_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{encrypt_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_4:{groupby_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
10 -> 11 [label = "t_28:{groupby_long_0:PRIVATE:INT64}"]
10 -> 11 [label = "t_29:{groupby_string_0:PRIVATE:STRING}"]
10 -> 19 [label = "t_27:{aggregate_long_0:PRIVATE:INT64}"]
10 -> 20 [label = "t_28:{groupby_long_0:PRIVATE:INT64}"]
10 -> 21 [label = "t_29:{groupby_string_0:PRIVATE:STRING}"]
10 -> 22 [label = "t_30:{join_long_0:PRIVATE:INT64}"]
11 -> 14 [label = "t_31:{group_id:PRIVATE:INT64}"]
12 -> 23 [label = "t_33:{groupby_long_0:SECRET:INT64}"]
12 -> 23 [label = "t_33:{groupby_long_0:SECRET:INT64}"]
12 -> 23 [label = "t_33:{groupby_long_0:SECRET:INT64}"]
13 -> 23 [label = "t_34:{groupby_long_0:SECRET:INT64}"]
13 -> 23 [label = "t_34:{groupby_long_0:SECRET:INT64}"]
13 -> 23 [label = "t_34:{groupby_long_0:SECRET:INT64}"]
14 -> 23 [label = "t_35:{group_id:SECRET:INT64}"]
14 -> 23 [label = "t_35:{group_id:SECRET:INT64}"]
15 -> 23 [label = "t_36:{join_long_0:SECRET:INT64}"]
16 -> 23 [label = "t_37:{aggregate_long_0:SECRET:INT64}"]
17 -> 23 [label = "t_38:{encrypt_long_0:SECRET:INT64}"]
18 -> 23 [label = "t_39:{join_long_0:SECRET:INT64}"]
19 -> 23 [label = "t_40:{aggregate_long_0:SECRET:INT64}"]
2 -> 3 [label = "t_6:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
20 -> 23 [label = "t_41:{groupby_long_0:SECRET:INT64}"]
21 -> 23 [label = "t_42:{groupby_string_0:SECRET:STRING}"]
22 -> 23 [label = "t_43:{join_long_0:SECRET:INT64}"]
23 -> 24 [label = "t_44:{groupby_long_0:SECRET:INT64}"]
23 -> 24 [label = "t_45:{groupby_long_0:SECRET:INT64}"]
23 -> 24 [label = "t_46:{group_id:SECRET:INT64}"]
23 -> 26 [label = "t_44:{groupby_long_0:SECRET:INT64}"]
23 -> 26 [label = "t_45:{groupby_long_0:SECRET:INT64}"]
23 -> 26 [label = "t_46:{group_id:SECRET:INT64}"]
23 -> 26 [label = "t_50:{encrypt_long_0:SECRET:INT64}"]
23 -> 26 [label = "t_50:{encrypt_long_0:SECRET:INT64}"]
23 -> 30 [label = "t_49:{aggregate_long_0:SECRET:INT64}"]
23 -> 31 [label = "t_53:{aggregate_long_0:SECRET:INT64}"]
24 -> 25 [label = "t_57:{group_mark:SECRET:BOOL}"]
24 -> 25 [label = "t_57:{group_mark:SECRET:BOOL}"]
24 -> 28 [label = "t_57:{group_mark:SECRET:BOOL}"]
24 -> 29 [label = "t_57:{group_mark:SECRET:BOOL}"]
24 -> 30 [label = "t_57:{group_mark:SECRET:BOOL}"]
24 -> 31 [label = "t_57:{group_mark:SECRET:BOOL}"]
24 -> 32 [label = "t_57:{group_mark:SECRET:BOOL}"]
25 -> 32 [label = "t_58:{group_mark:SECRET:INT64}"]
26 -> 27 [label = "t_59:{encrypt_long_0:SECRET:INT64}"]
27 -> 28 [label = "t_60:{group_mark:SECRET:BOOL}"]
28 -> 29 [label = "t_61:{LogicalOr_out:SECRET:BOOL}"]
29 -> 32 [label = "t_62:{LogicalOr_out:SECRET:INT64}"]
3 -> 8 [label = "t_8:{groupby_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
30 -> 32 [label = "t_63:{aggregate_long_0:SECRET:INT64}"]
31 -> 32 [label = "t_64:{aggregate_long_0:SECRET:INT64}"]
32 -> 33 [label = "t_69:{group_mark:SECRET:BOOL}"]
32 -> 34 [label = "t_65:{group_mark:SECRET:INT64}"]
32 -> 34 [label = "t_66:{LogicalOr_out:SECRET:INT64}"]
32 -> 34 [label = "t_67:{aggregate_long_0:SECRET:INT64}"]
32 -> 34 [label = "t_68:{aggregate_long_0:SECRET:INT64}"]
33 -> 34 [label = "t_70:{group_mark:PUBLIC:BOOL}"]
34 -> 36 [label = "t_71:{group_mark:SECRET:INT64}"]
34 -> 37 [label = "t_71:{group_mark:SECRET:INT64}"]
34 -> 41 [label = "t_71:{group_mark:SECRET:INT64}"]
34 -> 41 [label = "t_72:{LogicalOr_out:SECRET:INT64}"]
34 -> 41 [label = "t_73:{aggregate_long_0:SECRET:INT64}"]
34 -> 41 [label = "t_74:{aggregate_long_0:SECRET:INT64}"]
35 -> 36 [label = "t_75:{constant_data:PUBLIC:INT64}"]
36 -> 38 [label = "t_76:{constant_data:PUBLIC:INT64}"]
37 -> 39 [label = "t_77:{group_mark:PRIVATE:INT64}"]
38 -> 39 [label = "t_78:{constant_data:PRIVATE:INT64}"]
39 -> 40 [label = "t_79:{GreaterEqual_out:PRIVATE:BOOL}"]
4 -> 6 [label = "t_13:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_10:{aggregate_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_11:{encrypt_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_12:{groupby_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_13:{join_long_0:PRIVATE:INT64}"]
40 -> 41 [label = "t_80:{GreaterEqual_out:PUBLIC:BOOL}"]
41 -> 42 [label = "t_81:{group_mark:SECRET:INT64}"]
41 -> 43 [label = "t_82:{LogicalOr_out:SECRET:INT64}"]
41 -> 44 [label = "t_83:{aggregate_long_0:SECRET:INT64}"]
41 -> 45 [label = "t_84:{aggregate_long_0:SECRET:INT64}"]
42 -> 46 [label = "t_85:{group_mark:PRIVATE:INT64}"]
43 -> 46 [label = "t_87:{LogicalOr_out:PRIVATE:INT64}"]
44 -> 46 [label = "t_89:{aggregate_long_0:PRIVATE:INT64}"]
45 -> 46 [label = "t_91:{aggregate_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_14:{aggregate_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_15:{groupby_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_16:{groupby_string_0:PRIVATE:STRING}"]
5 -> 10 [label = "t_17:{join_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_17:{join_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_19:{join_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_20:{join_long_0:PRIVATE:INT64}"]
8 -> 12 [label = "t_21:{groupby_long_0:PRIVATE:INT64}"]
8 -> 15 [label = "t_22:{join_long_0:PRIVATE:INT64}"]
9 -> 13 [label = "t_25:{groupby_long_0:PRIVATE:INT64}"]
9 -> 16 [label = "t_23:{aggregate_long_0:PRIVATE:INT64}"]
9 -> 17 [label = "t_24:{encrypt_long_0:PRIVATE:INT64}"]
9 -> 18 [label = "t_26:{join_long_0:PRIVATE:INT64}"]
}`},
	{`select count(*) as c, count(distinct bob.encrypt_long_0) as cd, sum(bob.aggregate_long_0) as sb, sum(carol.aggregate_long_0) as sc from alice.tbl_0 as alice, bob.tbl_0 as bob, carol.tbl_0 as carol where alice.join_long_0 = bob.join_long_0 and bob.join_long_0 = carol.join_long_0 group by alice.groupby_long_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select alice.groupby_long_0,alice.join_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,t_4,},],attr:[sql:select bob.aggregate_long_0,bob.encrypt_long_0,bob.join_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_4,},],out:[LeftJoinIndex:{t_5,},RightJoinIndex:{t_6,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_5,},],out:[Out:{t_7,t_8,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,t_4,},RowsIndexFilter:{t_6,},],out:[Out:{t_9,t_10,t_11,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_12,t_13,},],attr:[sql:select carol.aggregate_long_0,carol.join_long_0 from carol.tbl_0 as carol,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_11,},Right:{t_13,},],out:[LeftJoinIndex:{t_14,},RightJoinIndex:{t_15,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_14,},],out:[Out:{t_16,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_7,t_8,},RowsIndexFilter:{t_16,},],out:[Out:{t_17,t_18,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_9,t_10,t_11,},RowsIndexFilter:{t_14,},],out:[Out:{t_19,t_20,t_21,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_12,t_13,},RowsIndexFilter:{t_15,},],out:[Out:{t_22,t_23,},],attr:[],party:[carol,]}"]
11 [label="make_share:{in:[In:{t_17,},],out:[Out:{t_24,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="make_share:{in:[In:{t_18,},],out:[Out:{t_25,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_share:{in:[In:{t_19,},],out:[Out:{t_26,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_share:{in:[In:{t_20,},],out:[Out:{t_27,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="make_share:{in:[In:{t_21,},],out:[Out:{t_28,},],attr:[],party:[alice,bob,carol,]}"]
16 [label="make_share:{in:[In:{t_22,},],out:[Out:{t_29,},],attr:[],party:[alice,bob,carol,]}"]
17 [label="make_share:{in:[In:{t_23,},],out:[Out:{t_30,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="sort:{in:[In:{t_24,t_24,t_25,t_26,t_27,t_28,t_29,t_30,},Key:{t_24,},],out:[Out:{t_31,t_32,t_33,t_34,t_35,t_36,t_37,t_38,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
19 [label="group_mark:{in:[Key:{t_31,},],out:[Group:{t_39,},],attr:[],party:[alice,bob,carol,]}"]
20 [label="count:{in:[Group:{t_39,},In:{t_39,},],out:[Out:{t_40,},],attr:[],party:[alice,bob,carol,]}"]
21 [label="sort:{in:[In:{t_35,},Key:{t_31,t_35,},],out:[Out:{t_41,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
22 [label="group_mark:{in:[Key:{t_41,},],out:[Group:{t_42,},],attr:[],party:[alice,bob,carol,]}"]
23 [label="LogicalOr:{in:[Left:{t_39,},Right:{t_42,},],out:[Out:{t_43,},],attr:[],party:[alice,bob,carol,]}"]
24 [label="sum:{in:[Group:{t_39,},In:{t_43,},],out:[Out:{t_44,},],attr:[],party:[alice,bob,carol,]}"]
25 [label="sum:{in:[Group:{t_39,},In:{t_34,},],out:[Out:{t_45,},],attr:[],party:[alice,bob,carol,]}"]
26 [label="sum:{in:[Group:{t_39,},In:{t_37,},],out:[Out:{t_46,},],attr:[],party:[alice,bob,carol,]}"]
27 [label="shuffle:{in:[In:{t_40,t_44,t_45,t_46,t_39,},],out:[Out:{t_47,t_48,t_49,t_50,t_51,},],attr:[],party:[alice,bob,carol,]}"]
28 [label="make_public:{in:[In:{t_51,},],out:[Out:{t_52,},],attr:[],party:[alice,bob,carol,]}"]
29 [label="filter:{in:[Filter:{t_52,},In:{t_47,t_48,t_49,t_50,},],out:[Out:{t_53,t_54,t_55,t_56,},],attr:[],party:[alice,bob,carol,]}"]
30 [label="make_constant:{in:[],out:[Out:{t_57,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
31 [label="broadcast:{in:[In:{t_57,},ShapeRefTensor:{t_53,},],out:[Out:{t_58,},],attr:[],party:[alice,bob,carol,]}"]
32 [label="make_private:{in:[In:{t_53,},],out:[Out:{t_59,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
33 [label="make_private:{in:[In:{t_58,},],out:[Out:{t_60,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
34 [label="GreaterEqual:{in:[Left:{t_59,},Right:{t_60,},],out:[Out:{t_61,},],attr:[],party:[alice,]}"]
35 [label="make_public:{in:[In:{t_61,},],out:[Out:{t_62,},],attr:[],party:[alice,bob,carol,]}"]
36 [label="apply_filter:{in:[Filter:{t_62,},In:{t_53,t_54,t_55,t_56,},],out:[Out:{t_63,t_64,t_65,t_66,},],attr:[],party:[alice,bob,carol,]}"]
37 [label="make_private:{in:[In:{t_63,},],out:[Out:{t_67,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
38 [label="make_private:{in:[In:{t_64,},],out:[Out:{t_69,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
39 [label="make_private:{in:[In:{t_65,},],out:[Out:{t_71,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
40 [label="make_private:{in:[In:{t_66,},],out:[Out:{t_73,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
41 [label="publish:{in:[In:{t_67,t_69,t_71,t_73,},],out:[Out:{t_68,t_70,t_72,t_74,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{groupby_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{aggregate_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{encrypt_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
10 -> 16 [label = "t_22:{aggregate_long_0:PRIVATE:INT64}"]
10 -> 17 [label = "t_23:{join_long_0:PRIVATE:INT64}"]
11 -> 18 [label = "t_24:{groupby_long_0:SECRET:INT64}"]
11 -> 18 [label = "t_24:{groupby_long_0:SECRET:INT64}"]
11 -> 18 [label = "t_24:{groupby_long_0:SECRET:INT64}"]
12 -> 18 [label = "t_25:{join_long_0:SECRET:INT64}"]
13 -> 18 [label = "t_26:{aggregate_long_0:SECRET:INT64}"]
14 -> 18 [label = "t_27:{encrypt_long_0:SECRET:INT64}"]
15 -> 18 [label = "t_28:{join_long_0:SECRET:INT64}"]
16 -> 18 [label = "t_29:{aggregate_long_0:SECRET:INT64}"]
17 -> 18 [label = "t_30:{join_long_0:SECRET:INT64}"]
18 -> 19 [label = "t_31:{groupby_long_0:SECRET:INT64}"]
18 -> 21 [label = "t_31:{groupby_long_0:SECRET:INT64}"]
18 -> 21 [label = "t_35:{encrypt_long_0:SECRET:INT64}"]
18 -> 21 [label = "t_35:{encrypt_long_0:SECRET:INT64}"]
18 -> 25 [label = "t_34:{aggregate_long_0:SECRET:INT64}"]
18 -> 26 [label = "t_37:{aggregate_long_0:SECRET:INT64}"]
19 -> 20 [label = "t_39:{group_mark:SECRET:BOOL}"]
19 -> 20 [label = "t_39:{group_mark:SECRET:BOOL}"]
19 -> 23 [label = "t_39:{group_mark:SECRET:BOOL}"]
19 -> 24 [label = "t_39:{group_mark:SECRET:BOOL}"]
19 -> 25 [label = "t_39:{group_mark:SECRET:BOOL}"]
19 -> 26 [label = "t_39:{group_mark:SECRET:BOOL}"]
19 -> 27 [label = "t_39:{group_mark:SECRET:BOOL}"]
2 -> 3 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_6:{join_long_0:PRIVATE:INT64}"]
20 -> 27 [label = "t_40:{group_mark:SECRET:INT64}"]
21 -> 22 [label = "t_41:{encrypt_long_0:SECRET:INT64}"]
22 -> 23 [label = "t_42:{group_mark:SECRET:BOOL}"]
23 -> 24 [label = "t_43:{LogicalOr_out:SECRET:BOOL}"]
24 -> 27 [label = "t_44:{LogicalOr_out:SECRET:INT64}"]
25 -> 27 [label = "t_45:{aggregate_long_0:SECRET:INT64}"]
26 -> 27 [label = "t_46:{aggregate_long_0:SECRET:INT64}"]
27 -> 28 [label = "t_51:{group_mark:SECRET:BOOL}"]
27 -> 29 [label = "t_47:{group_mark:SECRET:INT64}"]
27 -> 29 [label = "t_48:{LogicalOr_out:SECRET:INT64}"]
27 -> 29 [label = "t_49:{aggregate_long_0:SECRET:INT64}"]
27 -> 29 [label = "t_50:{aggregate_long_0:SECRET:INT64}"]
28 -> 29 [label = "t_52:{group_mark:PUBLIC:BOOL}"]
29 -> 31 [label = "t_53:{group_mark:SECRET:INT64}"]
29 -> 32 [label = "t_53:{group_mark:SECRET:INT64}"]
29 -> 36 [label = "t_53:{group_mark:SECRET:INT64}"]
29 -> 36 [label = "t_54:{LogicalOr_out:SECRET:INT64}"]
29 -> 36 [label = "t_55:{aggregate_long_0:SECRET:INT64}"]
29 -> 36 [label = "t_56:{aggregate_long_0:SECRET:INT64}"]
3 -> 8 [label = "t_7:{groupby_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_8:{join_long_0:PRIVATE:INT64}"]
30 -> 31 [label = "t_57:{constant_data:PUBLIC:INT64}"]
31 -> 33 [label = "t_58:{constant_data:PUBLIC:INT64}"]
32 -> 34 [label = "t_59:{group_mark:PRIVATE:INT64}"]
33 -> 34 [label = "t_60:{constant_data:PRIVATE:INT64}"]
34 -> 35 [label = "t_61:{GreaterEqual_out:PRIVATE:BOOL}"]
35 -> 36 [label = "t_62:{GreaterEqual_out:PUBLIC:BOOL}"]
36 -> 37 [label = "t_63:{group_mark:SECRET:INT64}"]
36 -> 38 [label = "t_64:{LogicalOr_out:SECRET:INT64}"]
36 -> 39 [label = "t_65:{aggregate_long_0:SECRET:INT64}"]
36 -> 40 [label = "t_66:{aggregate_long_0:SECRET:INT64}"]
37 -> 41 [label = "t_67:{group_mark:PRIVATE:INT64}"]
38 -> 41 [label = "t_69:{LogicalOr_out:PRIVATE:INT64}"]
39 -> 41 [label = "t_71:{aggregate_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_11:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_10:{encrypt_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_11:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_9:{aggregate_long_0:PRIVATE:INT64}"]
40 -> 41 [label = "t_73:{aggregate_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_12:{aggregate_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_13:{join_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_13:{join_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_15:{join_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_14:{join_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_14:{join_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
8 -> 11 [label = "t_17:{groupby_long_0:PRIVATE:INT64}"]
8 -> 12 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
9 -> 13 [label = "t_19:{aggregate_long_0:PRIVATE:INT64}"]
9 -> 14 [label = "t_20:{encrypt_long_0:PRIVATE:INT64}"]
9 -> 15 [label = "t_21:{join_long_0:PRIVATE:INT64}"]
}`},
	{`select (alice.join_long_0 + bob.compare_long_0 + carol.compare_long_0) <> 0 as reduce_res from alice.tbl_0 as alice, bob.tbl_0 as bob, carol.tbl_0 as carol where alice.join_long_0 = bob.join_long_0 and bob.join_long_0 = carol.join_long_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select alice.join_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,t_2,},],attr:[sql:select bob.compare_long_0,bob.join_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_2,},],out:[LeftJoinIndex:{t_3,},RightJoinIndex:{t_4,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,t_2,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_8,t_9,},],attr:[sql:select carol.compare_long_0,carol.join_long_0 from carol.tbl_0 as carol,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_7,},Right:{t_9,},],out:[LeftJoinIndex:{t_10,},RightJoinIndex:{t_11,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_10,},],out:[Out:{t_12,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_5,},RowsIndexFilter:{t_12,},],out:[Out:{t_13,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_6,t_7,},RowsIndexFilter:{t_10,},],out:[Out:{t_14,t_15,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_8,t_9,},RowsIndexFilter:{t_11,},],out:[Out:{t_16,t_17,},],attr:[],party:[carol,]}"]
11 [label="copy:{in:[In:{t_13,},],out:[Out:{t_18,},],attr:[input_party_codes:alice,output_party_codes:bob,],party:[alice,bob,]}"]
12 [label="Add:{in:[Left:{t_18,},Right:{t_14,},],out:[Out:{t_19,},],attr:[],party:[bob,]}"]
13 [label="make_share:{in:[In:{t_19,},],out:[Out:{t_20,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_share:{in:[In:{t_16,},],out:[Out:{t_21,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="Add:{in:[Left:{t_20,},Right:{t_21,},],out:[Out:{t_22,},],attr:[],party:[alice,bob,carol,]}"]
16 [label="make_constant:{in:[],out:[Out:{t_23,},],attr:[scalar:0,to_status:1,],party:[alice,bob,carol,]}"]
17 [label="broadcast:{in:[In:{t_23,},ShapeRefTensor:{t_22,},],out:[Out:{t_24,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="NotEqual:{in:[Left:{t_22,},Right:{t_24,},],out:[Out:{t_25,},],attr:[],party:[alice,bob,carol,]}"]
19 [label="make_private:{in:[In:{t_25,},],out:[Out:{t_26,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
20 [label="publish:{in:[In:{t_26,},],out:[Out:{t_27,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
10 -> 14 [label = "t_16:{compare_long_0:PRIVATE:INT64}"]
11 -> 12 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
12 -> 13 [label = "t_19:{Add_out:PRIVATE:INT64}"]
13 -> 15 [label = "t_20:{Add_out:SECRET:INT64}"]
14 -> 15 [label = "t_21:{compare_long_0:SECRET:INT64}"]
15 -> 17 [label = "t_22:{Add_out:SECRET:INT64}"]
15 -> 18 [label = "t_22:{Add_out:SECRET:INT64}"]
16 -> 17 [label = "t_23:{constant_data:PUBLIC:INT64}"]
17 -> 18 [label = "t_24:{constant_data:PUBLIC:INT64}"]
18 -> 19 [label = "t_25:{NotEqual_out:SECRET:BOOL}"]
19 -> 20 [label = "t_26:{NotEqual_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_8:{compare_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_11:{join_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_10:{join_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_10:{join_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_12:{join_long_0:PRIVATE:INT64}"]
8 -> 11 [label = "t_13:{join_long_0:PRIVATE:INT64}"]
9 -> 12 [label = "t_14:{compare_long_0:PRIVATE:INT64}"]
}`},
	{`select alice.plain_long_0 + bob.join_long_0 + carol.join_long_0 as add_res, alice.plain_long_0 - bob.join_long_0 - carol.join_long_0 as minus_res, alice.plain_long_0 * bob.join_long_0 * carol.join_long_0 as multi_res, alice.plain_long_0 / bob.join_long_0 / carol.join_long_0 as div_res from alice.tbl_0 as alice, bob.tbl_0 as bob, carol.tbl_0 as carol where alice.join_long_0 = bob.join_long_0 and bob.join_long_0 = carol.join_long_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select alice.join_long_0,alice.plain_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,},],attr:[sql:select bob.join_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_2,},],out:[LeftJoinIndex:{t_3,},RightJoinIndex:{t_4,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,t_6,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,},RowsIndexFilter:{t_4,},],out:[Out:{t_7,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_8,},],attr:[sql:select carol.join_long_0 from carol.tbl_0 as carol,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_7,},Right:{t_8,},],out:[LeftJoinIndex:{t_9,},RightJoinIndex:{t_10,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_9,},],out:[Out:{t_11,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_5,t_6,},RowsIndexFilter:{t_11,},],out:[Out:{t_12,t_13,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_7,},RowsIndexFilter:{t_9,},],out:[Out:{t_14,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_8,},RowsIndexFilter:{t_10,},],out:[Out:{t_15,},],attr:[],party:[carol,]}"]
11 [label="copy:{in:[In:{t_14,},],out:[Out:{t_16,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
12 [label="Add:{in:[Left:{t_13,},Right:{t_16,},],out:[Out:{t_17,},],attr:[],party:[alice,]}"]
13 [label="copy:{in:[In:{t_15,},],out:[Out:{t_18,},],attr:[input_party_codes:carol,output_party_codes:alice,],party:[carol,alice,]}"]
14 [label="Add:{in:[Left:{t_17,},Right:{t_18,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
15 [label="Minus:{in:[Left:{t_13,},Right:{t_16,},],out:[Out:{t_20,},],attr:[],party:[alice,]}"]
16 [label="Minus:{in:[Left:{t_20,},Right:{t_18,},],out:[Out:{t_21,},],attr:[],party:[alice,]}"]
17 [label="Mul:{in:[Left:{t_13,},Right:{t_16,},],out:[Out:{t_22,},],attr:[],party:[alice,]}"]
18 [label="Mul:{in:[Left:{t_22,},Right:{t_18,},],out:[Out:{t_23,},],attr:[],party:[alice,]}"]
19 [label="Div:{in:[Left:{t_13,},Right:{t_16,},],out:[Out:{t_24,},],attr:[],party:[alice,]}"]
20 [label="Div:{in:[Left:{t_24,},Right:{t_18,},],out:[Out:{t_25,},],attr:[],party:[alice,]}"]
21 [label="publish:{in:[In:{t_19,t_21,t_23,t_25,},],out:[Out:{t_26,t_27,t_28,t_29,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
10 -> 13 [label = "t_15:{join_long_0:PRIVATE:INT64}"]
11 -> 12 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
11 -> 15 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
11 -> 17 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
11 -> 19 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
12 -> 14 [label = "t_17:{Add_out:PRIVATE:INT64}"]
13 -> 14 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
13 -> 16 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
13 -> 18 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
13 -> 20 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
14 -> 21 [label = "t_19:{Add_out:PRIVATE:INT64}"]
15 -> 16 [label = "t_20:{Minus_out:PRIVATE:INT64}"]
16 -> 21 [label = "t_21:{Minus_out:PRIVATE:INT64}"]
17 -> 18 [label = "t_22:{Mul_out:PRIVATE:INT64}"]
18 -> 21 [label = "t_23:{Mul_out:PRIVATE:INT64}"]
19 -> 20 [label = "t_24:{Div_out:PRIVATE:FLOAT64}"]
2 -> 3 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
20 -> 21 [label = "t_25:{Div_out:PRIVATE:FLOAT64}"]
3 -> 8 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_6:{plain_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_8:{join_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_8:{join_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_10:{join_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_11:{join_long_0:PRIVATE:INT64}"]
8 -> 12 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
8 -> 15 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
8 -> 17 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
8 -> 19 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
9 -> 11 [label = "t_14:{join_long_0:PRIVATE:INT64}"]
}`},
	{`select concat(plain_string_0, plain_string_1) as tt from alice.tbl_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select concat(tbl_0.plain_string_0, tbl_0.plain_string_1) as tt from alice.tbl_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{Column#91:PRIVATE:STRING}"]
}`},
	{`select count(*) as c from alice.tbl_1 join alice.tbl_2 on tbl_1.plain_long_0 = tbl_2.plain_long_0 group by tbl_1.plain_float_0 having count(*) > 3`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select count(1) as c from alice.tbl_1 join alice.tbl_2 on tbl_1.plain_long_0=tbl_2.plain_long_0 group by tbl_1.plain_float_0 having (count(1)>3) and (count(1)>=4),table_refs:[alice.tbl_1 alice.tbl_2],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{Column#182:PRIVATE:INT64}"]
}`},
	{`select tbl_1.plain_float_0 from alice.tbl_1 join alice.tbl_2 on tbl_1.plain_long_0 = tbl_2.plain_long_0 group by tbl_1.plain_float_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select any_value(tbl_1.plain_float_0) as expr_79 from alice.tbl_1 join alice.tbl_2 on tbl_1.plain_long_0=tbl_2.plain_long_0 group by tbl_1.plain_float_0 having count(1)>=4,table_refs:[alice.tbl_1 alice.tbl_2],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{plain_float_0:PRIVATE:FLOAT32}"]
}`},
	{`select plain_long_0 from alice.tbl_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select tbl_0.plain_long_0 from alice.tbl_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select count(*) as c, sum(plain_long_0) as b, max(plain_long_0) as a, min(plain_long_0) as d from alice.tbl_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,t_3,},],attr:[sql:select count(1) as c,sum(tbl_0.plain_long_0) as b,max(tbl_0.plain_long_0) as a,min(tbl_0.plain_long_0) as d from alice.tbl_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,t_1,t_2,t_3,},],out:[Out:{t_4,t_5,t_6,t_7,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{Column#91:PRIVATE:INT64}"]
0 -> 1 [label = "t_1:{Column#92:PRIVATE:INT64}"]
0 -> 1 [label = "t_2:{Column#93:PRIVATE:INT64}"]
0 -> 1 [label = "t_3:{Column#94:PRIVATE:INT64}"]
}`},
	{`select plain_long_0 from alice.tbl_0 into outfile party_code 'alice' '/tmp/output.txt' fields terminated BY ','`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select tbl_0.plain_long_0 from alice.tbl_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="dump_file:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[deliminator:,,file_path:/tmp/output.txt,],party:[alice,]}"]
0 -> 1 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select (ta.compare_long_0 + tb.compare_long_0) > 0 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.join_long_0 = tb.join_long_0 into outfile party_code 'alice' '/tmp/output.txt' fields terminated BY ','`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.compare_long_0,ta.join_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select tb.compare_long_0,tb.join_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_3,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="make_share:{in:[In:{t_6,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_8,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="Add:{in:[Left:{t_10,},Right:{t_11,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_constant:{in:[],out:[Out:{t_13,},],attr:[scalar:0,to_status:1,],party:[alice,bob,carol,]}"]
9 [label="broadcast:{in:[In:{t_13,},ShapeRefTensor:{t_12,},],out:[Out:{t_14,},],attr:[],party:[alice,bob,carol,]}"]
10 [label="Greater:{in:[Left:{t_12,},Right:{t_14,},],out:[Out:{t_15,},],attr:[],party:[alice,bob,carol,]}"]
11 [label="make_private:{in:[In:{t_15,},],out:[Out:{t_16,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
12 [label="dump_file:{in:[In:{t_16,},],out:[Out:{t_17,},],attr:[deliminator:,,file_path:/tmp/output.txt,],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
10 -> 11 [label = "t_15:{Greater_out:SECRET:BOOL}"]
11 -> 12 [label = "t_16:{Greater_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_8:{compare_long_0:PRIVATE:INT64}"]
5 -> 7 [label = "t_10:{compare_long_0:SECRET:INT64}"]
6 -> 7 [label = "t_11:{compare_long_0:SECRET:INT64}"]
7 -> 10 [label = "t_12:{Add_out:SECRET:INT64}"]
7 -> 9 [label = "t_12:{Add_out:SECRET:INT64}"]
8 -> 9 [label = "t_13:{constant_data:PUBLIC:INT64}"]
9 -> 10 [label = "t_14:{constant_data:PUBLIC:INT64}"]
}`},
	{`select ta.plain_long_0, count(*) as c, sum(ta.plain_long_0) as b, max(ta.plain_long_0) as a, min(ta.plain_long_0) as d from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0 group by ta.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_1,},],out:[LeftJoinIndex:{t_2,},RightJoinIndex:{t_3,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_2,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[bob,]}"]
5 [label="group:{in:[Key:{t_4,},],out:[GroupId:{t_6,},GroupNum:{t_7,},],attr:[],party:[alice,]}"]
6 [label="count:{in:[GroupId:{t_6,},GroupNum:{t_7,},In:{t_6,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
7 [label="sum:{in:[GroupId:{t_6,},GroupNum:{t_7,},In:{t_4,},],out:[Out:{t_9,},],attr:[],party:[alice,]}"]
8 [label="max:{in:[GroupId:{t_6,},GroupNum:{t_7,},In:{t_4,},],out:[Out:{t_10,},],attr:[],party:[alice,]}"]
9 [label="min:{in:[GroupId:{t_6,},GroupNum:{t_7,},In:{t_4,},],out:[Out:{t_11,},],attr:[],party:[alice,]}"]
10 [label="firstrow:{in:[GroupId:{t_6,},GroupNum:{t_7,},In:{t_4,},],out:[Out:{t_12,},],attr:[],party:[alice,]}"]
11 [label="make_constant:{in:[],out:[Out:{t_13,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
12 [label="broadcast:{in:[In:{t_13,},ShapeRefTensor:{t_8,},],out:[Out:{t_14,},],attr:[],party:[alice,]}"]
13 [label="GreaterEqual:{in:[Left:{t_8,},Right:{t_14,},],out:[Out:{t_15,},],attr:[],party:[alice,]}"]
14 [label="apply_filter:{in:[Filter:{t_15,},In:{t_12,t_8,t_9,t_10,t_11,},],out:[Out:{t_16,t_17,t_18,t_19,t_20,},],attr:[],party:[alice,]}"]
15 [label="publish:{in:[In:{t_16,t_17,t_18,t_19,t_20,},],out:[Out:{t_21,t_22,t_23,t_24,t_25,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
10 -> 14 [label = "t_12:{plain_long_0_firstrow:PRIVATE:INT64}"]
11 -> 12 [label = "t_13:{constant_data:PUBLIC:INT64}"]
12 -> 13 [label = "t_14:{constant_data:PRIVATE:INT64}"]
13 -> 14 [label = "t_15:{GreaterEqual_out:PRIVATE:BOOL}"]
14 -> 15 [label = "t_16:{plain_long_0_firstrow:PRIVATE:INT64}"]
14 -> 15 [label = "t_17:{group_id_count:PRIVATE:INT64}"]
14 -> 15 [label = "t_18:{plain_long_0_sum:PRIVATE:INT64}"]
14 -> 15 [label = "t_19:{plain_long_0_max:PRIVATE:INT64}"]
14 -> 15 [label = "t_20:{plain_long_0_min:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
3 -> 10 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_6:{group_id:PRIVATE:INT64}"]
5 -> 10 [label = "t_7:{group_num:PRIVATE:INT64}"]
5 -> 6 [label = "t_6:{group_id:PRIVATE:INT64}"]
5 -> 6 [label = "t_6:{group_id:PRIVATE:INT64}"]
5 -> 6 [label = "t_7:{group_num:PRIVATE:INT64}"]
5 -> 7 [label = "t_6:{group_id:PRIVATE:INT64}"]
5 -> 7 [label = "t_7:{group_num:PRIVATE:INT64}"]
5 -> 8 [label = "t_6:{group_id:PRIVATE:INT64}"]
5 -> 8 [label = "t_7:{group_num:PRIVATE:INT64}"]
5 -> 9 [label = "t_6:{group_id:PRIVATE:INT64}"]
5 -> 9 [label = "t_7:{group_num:PRIVATE:INT64}"]
6 -> 12 [label = "t_8:{group_id_count:PRIVATE:INT64}"]
6 -> 13 [label = "t_8:{group_id_count:PRIVATE:INT64}"]
6 -> 14 [label = "t_8:{group_id_count:PRIVATE:INT64}"]
7 -> 14 [label = "t_9:{plain_long_0_sum:PRIVATE:INT64}"]
8 -> 14 [label = "t_10:{plain_long_0_max:PRIVATE:INT64}"]
9 -> 14 [label = "t_11:{plain_long_0_min:PRIVATE:INT64}"]
}`},
	{`select ta.groupby_long_0, count(distinct(ta.compare_long_0)), sum(ta.compare_long_0) as b, max(ta.compare_long_0) as a, min(ta.compare_long_0) as d from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0 group by ta.groupby_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,},],attr:[sql:select ta.compare_long_0,ta.groupby_long_0,ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_3,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_2,},Right:{t_3,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,t_2,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,t_8,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_9,},],attr:[],party:[bob,]}"]
5 [label="group:{in:[Key:{t_7,},],out:[GroupId:{t_10,},GroupNum:{t_11,},],attr:[],party:[alice,]}"]
6 [label="count_distinct:{in:[GroupId:{t_10,},GroupNum:{t_11,},In:{t_6,},],out:[Out:{t_12,},],attr:[],party:[alice,]}"]
7 [label="sum:{in:[GroupId:{t_10,},GroupNum:{t_11,},In:{t_6,},],out:[Out:{t_13,},],attr:[],party:[alice,]}"]
8 [label="max:{in:[GroupId:{t_10,},GroupNum:{t_11,},In:{t_6,},],out:[Out:{t_14,},],attr:[],party:[alice,]}"]
9 [label="min:{in:[GroupId:{t_10,},GroupNum:{t_11,},In:{t_6,},],out:[Out:{t_15,},],attr:[],party:[alice,]}"]
10 [label="firstrow:{in:[GroupId:{t_10,},GroupNum:{t_11,},In:{t_7,},],out:[Out:{t_16,},],attr:[],party:[alice,]}"]
11 [label="count:{in:[GroupId:{t_10,},GroupNum:{t_11,},In:{t_10,},],out:[Out:{t_17,},],attr:[],party:[alice,]}"]
12 [label="make_constant:{in:[],out:[Out:{t_18,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
13 [label="broadcast:{in:[In:{t_18,},ShapeRefTensor:{t_17,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
14 [label="GreaterEqual:{in:[Left:{t_17,},Right:{t_19,},],out:[Out:{t_20,},],attr:[],party:[alice,]}"]
15 [label="apply_filter:{in:[Filter:{t_20,},In:{t_16,t_12,t_13,t_14,t_15,t_17,},],out:[Out:{t_21,t_22,t_23,t_24,t_25,t_26,},],attr:[],party:[alice,]}"]
16 [label="publish:{in:[In:{t_21,t_22,t_23,t_24,t_25,},],out:[Out:{t_27,t_28,t_29,t_30,t_31,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{groupby_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
10 -> 15 [label = "t_16:{groupby_long_0_firstrow:PRIVATE:INT64}"]
11 -> 13 [label = "t_17:{group_id_count:PRIVATE:INT64}"]
11 -> 14 [label = "t_17:{group_id_count:PRIVATE:INT64}"]
11 -> 15 [label = "t_17:{group_id_count:PRIVATE:INT64}"]
12 -> 13 [label = "t_18:{constant_data:PUBLIC:INT64}"]
13 -> 14 [label = "t_19:{constant_data:PRIVATE:INT64}"]
14 -> 15 [label = "t_20:{GreaterEqual_out:PRIVATE:BOOL}"]
15 -> 16 [label = "t_21:{groupby_long_0_firstrow:PRIVATE:INT64}"]
15 -> 16 [label = "t_22:{compare_long_0_count_distinct:PRIVATE:INT64}"]
15 -> 16 [label = "t_23:{compare_long_0_sum:PRIVATE:INT64}"]
15 -> 16 [label = "t_24:{compare_long_0_max:PRIVATE:INT64}"]
15 -> 16 [label = "t_25:{compare_long_0_min:PRIVATE:INT64}"]
2 -> 3 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
3 -> 10 [label = "t_7:{groupby_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_7:{groupby_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_10:{group_id:PRIVATE:INT64}"]
5 -> 10 [label = "t_11:{group_num:PRIVATE:INT64}"]
5 -> 11 [label = "t_10:{group_id:PRIVATE:INT64}"]
5 -> 11 [label = "t_10:{group_id:PRIVATE:INT64}"]
5 -> 11 [label = "t_11:{group_num:PRIVATE:INT64}"]
5 -> 6 [label = "t_10:{group_id:PRIVATE:INT64}"]
5 -> 6 [label = "t_11:{group_num:PRIVATE:INT64}"]
5 -> 7 [label = "t_10:{group_id:PRIVATE:INT64}"]
5 -> 7 [label = "t_11:{group_num:PRIVATE:INT64}"]
5 -> 8 [label = "t_10:{group_id:PRIVATE:INT64}"]
5 -> 8 [label = "t_11:{group_num:PRIVATE:INT64}"]
5 -> 9 [label = "t_10:{group_id:PRIVATE:INT64}"]
5 -> 9 [label = "t_11:{group_num:PRIVATE:INT64}"]
6 -> 15 [label = "t_12:{compare_long_0_count_distinct:PRIVATE:INT64}"]
7 -> 15 [label = "t_13:{compare_long_0_sum:PRIVATE:INT64}"]
8 -> 15 [label = "t_14:{compare_long_0_max:PRIVATE:INT64}"]
9 -> 15 [label = "t_15:{compare_long_0_min:PRIVATE:INT64}"]
}`},
	{`select count(distinct(ta.compare_long_0)), sum(ta.compare_long_0) as b, max(ta.compare_long_0) as a, min(ta.compare_long_0) as d from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.compare_long_0,ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_2,},],out:[LeftJoinIndex:{t_3,},RightJoinIndex:{t_4,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,t_6,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,},RowsIndexFilter:{t_4,},],out:[Out:{t_7,},],attr:[],party:[bob,]}"]
5 [label="unique:{in:[Key:{t_5,},],out:[UniqueKey:{t_8,},],attr:[],party:[alice,]}"]
6 [label="shape:{in:[In:{t_8,},],out:[Out:{t_9,},],attr:[axis:0,],party:[alice,]}"]
7 [label="reduce_sum:{in:[In:{t_5,},],out:[Out:{t_10,},],attr:[],party:[alice,]}"]
8 [label="reduce_max:{in:[In:{t_5,},],out:[Out:{t_11,},],attr:[],party:[alice,]}"]
9 [label="reduce_min:{in:[In:{t_5,},],out:[Out:{t_12,},],attr:[],party:[alice,]}"]
10 [label="publish:{in:[In:{t_9,t_10,t_11,t_12,},],out:[Out:{t_13,t_14,t_15,t_16,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_5:{compare_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_5:{compare_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_5:{compare_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_5:{compare_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_8:{compare_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_9:{compare_long_0:PRIVATE:INT64}"]
7 -> 10 [label = "t_10:{compare_long_0:PRIVATE:INT64}"]
8 -> 10 [label = "t_11:{compare_long_0:PRIVATE:INT64}"]
9 -> 10 [label = "t_12:{compare_long_0:PRIVATE:INT64}"]
}`},
	{`select ta.plain_long_0 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_1,},],out:[LeftJoinIndex:{t_2,},RightJoinIndex:{t_3,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_2,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[bob,]}"]
5 [label="publish:{in:[In:{t_4,},],out:[Out:{t_6,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select ta.plain_long_0 from alice.tbl_0 as ta left join bob.tbl_0 as tb on ta.join_long_0 = tb.join_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.join_long_0,ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,},],attr:[sql:select tb.join_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_2,},],out:[LeftJoinIndex:{t_3,},RightJoinIndex:{t_4,},],attr:[input_party_codes:[alice bob],join_type:1,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,t_6,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,},RowsIndexFilter:{t_4,},],out:[Out:{t_7,},],attr:[],party:[bob,]}"]
5 [label="publish:{in:[In:{t_6,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_6:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select ta.plain_long_0 from alice.tbl_0 as ta left join bob.tbl_0 as tb on ta.join_long_0 = tb.join_long_0 left join carol.tbl_0 as tc on tb.join_long_1 = tc.join_long_1`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.join_long_0,ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select tb.join_long_0,tb.join_long_1 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_2,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:1,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_10,},],attr:[sql:select tc.join_long_1 from carol.tbl_0 as tc,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_9,},Right:{t_10,},],out:[LeftJoinIndex:{t_11,},RightJoinIndex:{t_12,},],attr:[input_party_codes:[bob carol],join_type:1,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_11,},],out:[Out:{t_13,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_6,t_7,},RowsIndexFilter:{t_13,},],out:[Out:{t_14,t_15,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_8,t_9,},RowsIndexFilter:{t_11,},],out:[Out:{t_16,t_17,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_10,},RowsIndexFilter:{t_12,},],out:[Out:{t_18,},],attr:[],party:[carol,]}"]
11 [label="publish:{in:[In:{t_15,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{join_long_1:PRIVATE:INT64}"]
2 -> 3 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_6:{join_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_7:{plain_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_9:{join_long_1:PRIVATE:INT64}"]
4 -> 9 [label = "t_8:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_9:{join_long_1:PRIVATE:INT64}"]
5 -> 10 [label = "t_10:{join_long_1:PRIVATE:INT64}"]
5 -> 6 [label = "t_10:{join_long_1:PRIVATE:INT64}"]
6 -> 10 [label = "t_12:{join_long_1:PRIVATE:INT64}"]
6 -> 7 [label = "t_11:{join_long_1:PRIVATE:INT64}"]
6 -> 9 [label = "t_11:{join_long_1:PRIVATE:INT64}"]
7 -> 8 [label = "t_13:{join_long_1:PRIVATE:INT64}"]
8 -> 11 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select max(ta.aggregate_float_0 + ta.aggregate_float_0) from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.aggregate_float_0,ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_2,},],out:[LeftJoinIndex:{t_3,},RightJoinIndex:{t_4,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,t_6,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,},RowsIndexFilter:{t_4,},],out:[Out:{t_7,},],attr:[],party:[bob,]}"]
5 [label="Add:{in:[Left:{t_5,},Right:{t_5,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
6 [label="reduce_max:{in:[In:{t_8,},],out:[Out:{t_9,},],attr:[],party:[alice,]}"]
7 [label="publish:{in:[In:{t_9,},],out:[Out:{t_10,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{aggregate_float_0:PRIVATE:FLOAT32}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_5:{aggregate_float_0:PRIVATE:FLOAT32}"]
3 -> 5 [label = "t_5:{aggregate_float_0:PRIVATE:FLOAT32}"]
5 -> 6 [label = "t_8:{Add_out:PRIVATE:FLOAT64}"]
6 -> 7 [label = "t_9:{Add_out:PRIVATE:FLOAT64}"]
}`},
	{`select count(*) as c, sum(ta.plain_long_0) as b, max(ta.plain_long_0) as a, min(ta.plain_long_0) as d, avg(ta.plain_long_0) as f from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_1,},],out:[LeftJoinIndex:{t_2,},RightJoinIndex:{t_3,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_2,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[bob,]}"]
5 [label="shape:{in:[In:{t_4,},],out:[Out:{t_6,},],attr:[axis:0,],party:[alice,]}"]
6 [label="reduce_sum:{in:[In:{t_4,},],out:[Out:{t_7,},],attr:[],party:[alice,]}"]
7 [label="reduce_max:{in:[In:{t_4,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
8 [label="reduce_min:{in:[In:{t_4,},],out:[Out:{t_9,},],attr:[],party:[alice,]}"]
9 [label="reduce_avg:{in:[In:{t_4,},],out:[Out:{t_10,},],attr:[],party:[alice,]}"]
10 [label="publish:{in:[In:{t_6,t_7,t_8,t_9,t_10,},],out:[Out:{t_11,t_12,t_13,t_14,t_15,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_6:{plain_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_7:{plain_long_0:PRIVATE:INT64}"]
7 -> 10 [label = "t_8:{plain_long_0:PRIVATE:INT64}"]
8 -> 10 [label = "t_9:{plain_long_0:PRIVATE:INT64}"]
9 -> 10 [label = "t_10:{plain_long_0:PRIVATE:FLOAT64}"]
}`},
	{`select ta.plain_long_0 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0 where ta.plain_long_1 > tb.plain_long_1`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.plain_long_0,ta.plain_long_1 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select tb.plain_long_0,tb.plain_long_1 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_2,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="copy:{in:[In:{t_9,},],out:[Out:{t_10,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
6 [label="Greater:{in:[Left:{t_7,},Right:{t_10,},],out:[Out:{t_11,},],attr:[],party:[alice,]}"]
7 [label="apply_filter:{in:[Filter:{t_11,},In:{t_6,t_7,},],out:[Out:{t_12,t_13,},],attr:[],party:[alice,]}"]
8 [label="copy:{in:[In:{t_11,},],out:[Out:{t_14,},],attr:[input_party_codes:alice,output_party_codes:bob,],party:[alice,bob,]}"]
9 [label="apply_filter:{in:[Filter:{t_14,},In:{t_8,t_9,},],out:[Out:{t_15,t_16,},],attr:[],party:[bob,]}"]
10 [label="publish:{in:[In:{t_12,},],out:[Out:{t_17,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_1:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{plain_long_1:PRIVATE:INT64}"]
2 -> 3 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_7:{plain_long_1:PRIVATE:INT64}"]
3 -> 7 [label = "t_6:{plain_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_7:{plain_long_1:PRIVATE:INT64}"]
4 -> 5 [label = "t_9:{plain_long_1:PRIVATE:INT64}"]
4 -> 9 [label = "t_8:{plain_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_9:{plain_long_1:PRIVATE:INT64}"]
5 -> 6 [label = "t_10:{plain_long_1:PRIVATE:INT64}"]
6 -> 7 [label = "t_11:{Greater_out:PRIVATE:BOOL}"]
6 -> 8 [label = "t_11:{Greater_out:PRIVATE:BOOL}"]
7 -> 10 [label = "t_12:{plain_long_0:PRIVATE:INT64}"]
8 -> 9 [label = "t_14:{Greater_out:PRIVATE:BOOL}"]
}`},
	{`select ta.plain_long_0 * tb.plain_long_0 as t1, ta.plain_long_0 + tb.plain_long_0 as t2, ta.plain_long_0 - tb.plain_long_0 as t3, ta.plain_long_0 / tb.plain_long_0 as t1 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0 where ta.plain_long_1 > tb.plain_long_1`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.plain_long_0,ta.plain_long_1 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select tb.plain_long_0,tb.plain_long_1 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_2,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="copy:{in:[In:{t_9,},],out:[Out:{t_10,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
6 [label="Greater:{in:[Left:{t_7,},Right:{t_10,},],out:[Out:{t_11,},],attr:[],party:[alice,]}"]
7 [label="apply_filter:{in:[Filter:{t_11,},In:{t_6,t_7,},],out:[Out:{t_12,t_13,},],attr:[],party:[alice,]}"]
8 [label="copy:{in:[In:{t_11,},],out:[Out:{t_14,},],attr:[input_party_codes:alice,output_party_codes:bob,],party:[alice,bob,]}"]
9 [label="apply_filter:{in:[Filter:{t_14,},In:{t_8,t_9,},],out:[Out:{t_15,t_16,},],attr:[],party:[bob,]}"]
10 [label="copy:{in:[In:{t_15,},],out:[Out:{t_17,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
11 [label="Mul:{in:[Left:{t_12,},Right:{t_17,},],out:[Out:{t_18,},],attr:[],party:[alice,]}"]
12 [label="Add:{in:[Left:{t_12,},Right:{t_17,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
13 [label="Minus:{in:[Left:{t_12,},Right:{t_17,},],out:[Out:{t_20,},],attr:[],party:[alice,]}"]
14 [label="Div:{in:[Left:{t_12,},Right:{t_17,},],out:[Out:{t_21,},],attr:[],party:[alice,]}"]
15 [label="publish:{in:[In:{t_18,t_19,t_20,t_21,},],out:[Out:{t_22,t_23,t_24,t_25,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_1:PRIVATE:INT64}"]
1 -> 2 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{plain_long_1:PRIVATE:INT64}"]
10 -> 11 [label = "t_17:{plain_long_0:PRIVATE:INT64}"]
10 -> 12 [label = "t_17:{plain_long_0:PRIVATE:INT64}"]
10 -> 13 [label = "t_17:{plain_long_0:PRIVATE:INT64}"]
10 -> 14 [label = "t_17:{plain_long_0:PRIVATE:INT64}"]
11 -> 15 [label = "t_18:{Mul_out:PRIVATE:INT64}"]
12 -> 15 [label = "t_19:{Add_out:PRIVATE:INT64}"]
13 -> 15 [label = "t_20:{Minus_out:PRIVATE:INT64}"]
14 -> 15 [label = "t_21:{Div_out:PRIVATE:FLOAT64}"]
2 -> 3 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_7:{plain_long_1:PRIVATE:INT64}"]
3 -> 7 [label = "t_6:{plain_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_7:{plain_long_1:PRIVATE:INT64}"]
4 -> 5 [label = "t_9:{plain_long_1:PRIVATE:INT64}"]
4 -> 9 [label = "t_8:{plain_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_9:{plain_long_1:PRIVATE:INT64}"]
5 -> 6 [label = "t_10:{plain_long_1:PRIVATE:INT64}"]
6 -> 7 [label = "t_11:{Greater_out:PRIVATE:BOOL}"]
6 -> 8 [label = "t_11:{Greater_out:PRIVATE:BOOL}"]
7 -> 11 [label = "t_12:{plain_long_0:PRIVATE:INT64}"]
7 -> 12 [label = "t_12:{plain_long_0:PRIVATE:INT64}"]
7 -> 13 [label = "t_12:{plain_long_0:PRIVATE:INT64}"]
7 -> 14 [label = "t_12:{plain_long_0:PRIVATE:INT64}"]
8 -> 9 [label = "t_14:{Greater_out:PRIVATE:BOOL}"]
9 -> 10 [label = "t_15:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select ta.plain_long_0 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0 where ta.plain_long_1 > tb.plain_long_1 and ta.compare_long_0 < tb.compare_long_0 and ta.compare_long_1 <> tb.compare_long_1 and ta.compare_long_2 >= tb.compare_long_2 and ta.compare_float_0 <= tb.compare_float_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,t_3,t_4,t_5,},],attr:[sql:select ta.compare_float_0,ta.compare_long_0,ta.compare_long_1,ta.compare_long_2,ta.plain_long_0,ta.plain_long_1 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_6,t_7,t_8,t_9,t_10,t_11,},],attr:[sql:select tb.compare_float_0,tb.compare_long_0,tb.compare_long_1,tb.compare_long_2,tb.plain_long_0,tb.plain_long_1 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_4,},Right:{t_10,},],out:[LeftJoinIndex:{t_12,},RightJoinIndex:{t_13,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,t_2,t_3,t_4,t_5,},RowsIndexFilter:{t_12,},],out:[Out:{t_14,t_15,t_16,t_17,t_18,t_19,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_6,t_7,t_8,t_9,t_10,t_11,},RowsIndexFilter:{t_13,},],out:[Out:{t_20,t_21,t_22,t_23,t_24,t_25,},],attr:[],party:[bob,]}"]
5 [label="copy:{in:[In:{t_25,},],out:[Out:{t_26,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
6 [label="Greater:{in:[Left:{t_19,},Right:{t_26,},],out:[Out:{t_27,},],attr:[],party:[alice,]}"]
7 [label="make_share:{in:[In:{t_15,},],out:[Out:{t_28,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_share:{in:[In:{t_21,},],out:[Out:{t_29,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="Less:{in:[Left:{t_28,},Right:{t_29,},],out:[Out:{t_30,},],attr:[],party:[alice,bob,carol,]}"]
10 [label="make_share:{in:[In:{t_16,},],out:[Out:{t_31,},],attr:[],party:[alice,bob,carol,]}"]
11 [label="make_share:{in:[In:{t_22,},],out:[Out:{t_32,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="NotEqual:{in:[Left:{t_31,},Right:{t_32,},],out:[Out:{t_33,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_share:{in:[In:{t_17,},],out:[Out:{t_34,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_share:{in:[In:{t_23,},],out:[Out:{t_35,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="GreaterEqual:{in:[Left:{t_34,},Right:{t_35,},],out:[Out:{t_36,},],attr:[],party:[alice,bob,carol,]}"]
16 [label="make_share:{in:[In:{t_14,},],out:[Out:{t_37,},],attr:[],party:[alice,bob,carol,]}"]
17 [label="make_share:{in:[In:{t_20,},],out:[Out:{t_38,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="LessEqual:{in:[Left:{t_37,},Right:{t_38,},],out:[Out:{t_39,},],attr:[],party:[alice,bob,carol,]}"]
19 [label="make_private:{in:[In:{t_30,},],out:[Out:{t_40,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
20 [label="logical_and:{in:[Left:{t_27,},Right:{t_40,},],out:[Out:{t_41,},],attr:[],party:[alice,]}"]
21 [label="make_private:{in:[In:{t_33,},],out:[Out:{t_42,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
22 [label="logical_and:{in:[Left:{t_41,},Right:{t_42,},],out:[Out:{t_43,},],attr:[],party:[alice,]}"]
23 [label="make_private:{in:[In:{t_36,},],out:[Out:{t_44,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
24 [label="logical_and:{in:[Left:{t_43,},Right:{t_44,},],out:[Out:{t_45,},],attr:[],party:[alice,]}"]
25 [label="make_private:{in:[In:{t_39,},],out:[Out:{t_46,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
26 [label="logical_and:{in:[Left:{t_45,},Right:{t_46,},],out:[Out:{t_47,},],attr:[],party:[alice,]}"]
27 [label="apply_filter:{in:[Filter:{t_47,},In:{t_14,t_15,t_16,t_17,t_18,t_19,},],out:[Out:{t_48,t_49,t_50,t_51,t_52,t_53,},],attr:[],party:[alice,]}"]
28 [label="copy:{in:[In:{t_47,},],out:[Out:{t_54,},],attr:[input_party_codes:alice,output_party_codes:bob,],party:[alice,bob,]}"]
29 [label="apply_filter:{in:[Filter:{t_54,},In:{t_20,t_21,t_22,t_23,t_24,t_25,},],out:[Out:{t_55,t_56,t_57,t_58,t_59,t_60,},],attr:[],party:[bob,]}"]
30 [label="publish:{in:[In:{t_52,},],out:[Out:{t_61,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_float_0:PRIVATE:FLOAT32}"]
0 -> 3 [label = "t_1:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_2:{compare_long_1:PRIVATE:INT64}"]
0 -> 3 [label = "t_3:{compare_long_2:PRIVATE:INT64}"]
0 -> 3 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_5:{plain_long_1:PRIVATE:INT64}"]
1 -> 2 [label = "t_10:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_10:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_11:{plain_long_1:PRIVATE:INT64}"]
1 -> 4 [label = "t_6:{compare_float_0:PRIVATE:FLOAT32}"]
1 -> 4 [label = "t_7:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_8:{compare_long_1:PRIVATE:INT64}"]
1 -> 4 [label = "t_9:{compare_long_2:PRIVATE:INT64}"]
10 -> 12 [label = "t_31:{compare_long_1:SECRET:INT64}"]
11 -> 12 [label = "t_32:{compare_long_1:SECRET:INT64}"]
12 -> 21 [label = "t_33:{NotEqual_out:SECRET:BOOL}"]
13 -> 15 [label = "t_34:{compare_long_2:SECRET:INT64}"]
14 -> 15 [label = "t_35:{compare_long_2:SECRET:INT64}"]
15 -> 23 [label = "t_36:{GreaterEqual_out:SECRET:BOOL}"]
16 -> 18 [label = "t_37:{compare_float_0:SECRET:FLOAT32}"]
17 -> 18 [label = "t_38:{compare_float_0:SECRET:FLOAT32}"]
18 -> 25 [label = "t_39:{LessEqual_out:SECRET:BOOL}"]
19 -> 20 [label = "t_40:{Less_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_12:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
20 -> 22 [label = "t_41:{logical_and_out:PRIVATE:BOOL}"]
21 -> 22 [label = "t_42:{NotEqual_out:PRIVATE:BOOL}"]
22 -> 24 [label = "t_43:{logical_and_out:PRIVATE:BOOL}"]
23 -> 24 [label = "t_44:{GreaterEqual_out:PRIVATE:BOOL}"]
24 -> 26 [label = "t_45:{logical_and_out:PRIVATE:BOOL}"]
25 -> 26 [label = "t_46:{LessEqual_out:PRIVATE:BOOL}"]
26 -> 27 [label = "t_47:{logical_and_out:PRIVATE:BOOL}"]
26 -> 28 [label = "t_47:{logical_and_out:PRIVATE:BOOL}"]
27 -> 30 [label = "t_52:{plain_long_0:PRIVATE:INT64}"]
28 -> 29 [label = "t_54:{logical_and_out:PRIVATE:BOOL}"]
3 -> 10 [label = "t_16:{compare_long_1:PRIVATE:INT64}"]
3 -> 13 [label = "t_17:{compare_long_2:PRIVATE:INT64}"]
3 -> 16 [label = "t_14:{compare_float_0:PRIVATE:FLOAT32}"]
3 -> 27 [label = "t_14:{compare_float_0:PRIVATE:FLOAT32}"]
3 -> 27 [label = "t_15:{compare_long_0:PRIVATE:INT64}"]
3 -> 27 [label = "t_16:{compare_long_1:PRIVATE:INT64}"]
3 -> 27 [label = "t_17:{compare_long_2:PRIVATE:INT64}"]
3 -> 27 [label = "t_18:{plain_long_0:PRIVATE:INT64}"]
3 -> 27 [label = "t_19:{plain_long_1:PRIVATE:INT64}"]
3 -> 6 [label = "t_19:{plain_long_1:PRIVATE:INT64}"]
3 -> 7 [label = "t_15:{compare_long_0:PRIVATE:INT64}"]
4 -> 11 [label = "t_22:{compare_long_1:PRIVATE:INT64}"]
4 -> 14 [label = "t_23:{compare_long_2:PRIVATE:INT64}"]
4 -> 17 [label = "t_20:{compare_float_0:PRIVATE:FLOAT32}"]
4 -> 29 [label = "t_20:{compare_float_0:PRIVATE:FLOAT32}"]
4 -> 29 [label = "t_21:{compare_long_0:PRIVATE:INT64}"]
4 -> 29 [label = "t_22:{compare_long_1:PRIVATE:INT64}"]
4 -> 29 [label = "t_23:{compare_long_2:PRIVATE:INT64}"]
4 -> 29 [label = "t_24:{plain_long_0:PRIVATE:INT64}"]
4 -> 29 [label = "t_25:{plain_long_1:PRIVATE:INT64}"]
4 -> 5 [label = "t_25:{plain_long_1:PRIVATE:INT64}"]
4 -> 8 [label = "t_21:{compare_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_26:{plain_long_1:PRIVATE:INT64}"]
6 -> 20 [label = "t_27:{Greater_out:PRIVATE:BOOL}"]
7 -> 9 [label = "t_28:{compare_long_0:SECRET:INT64}"]
8 -> 9 [label = "t_29:{compare_long_0:SECRET:INT64}"]
9 -> 19 [label = "t_30:{Less_out:SECRET:BOOL}"]
}`},
	{`select ta.join_long_0 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.join_long_0 = tb.join_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.join_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.join_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_1,},],out:[LeftJoinIndex:{t_2,},RightJoinIndex:{t_3,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_2,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[bob,]}"]
5 [label="publish:{in:[In:{t_4,},],out:[Out:{t_6,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
}`},
	{`select ta.join_long_0 + 1 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.join_long_0 = tb.join_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.join_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.join_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_1,},],out:[LeftJoinIndex:{t_2,},RightJoinIndex:{t_3,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_2,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[bob,]}"]
5 [label="make_constant:{in:[],out:[Out:{t_6,},],attr:[scalar:1,to_status:1,],party:[alice,bob,carol,]}"]
6 [label="broadcast:{in:[In:{t_6,},ShapeRefTensor:{t_4,},],out:[Out:{t_7,},],attr:[],party:[alice,]}"]
7 [label="Add:{in:[Left:{t_4,},Right:{t_7,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
8 [label="publish:{in:[In:{t_8,},],out:[Out:{t_9,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_6:{constant_data:PUBLIC:INT64}"]
6 -> 7 [label = "t_7:{constant_data:PRIVATE:INT64}"]
7 -> 8 [label = "t_8:{Add_out:PRIVATE:INT64}"]
}`},
	{`select ta.join_long_0 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.join_long_0 = tb.join_long_0 where ta.compare_long_0 > tb.compare_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.compare_long_0,ta.join_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select tb.compare_long_0,tb.join_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_3,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="make_share:{in:[In:{t_6,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_8,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="Greater:{in:[Left:{t_10,},Right:{t_11,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_private:{in:[In:{t_12,},],out:[Out:{t_13,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
9 [label="apply_filter:{in:[Filter:{t_13,},In:{t_6,t_7,},],out:[Out:{t_14,t_15,},],attr:[],party:[alice,]}"]
10 [label="make_private:{in:[In:{t_12,},],out:[Out:{t_16,},],attr:[reveal_to:bob,],party:[alice,bob,carol,]}"]
11 [label="apply_filter:{in:[Filter:{t_16,},In:{t_8,t_9,},],out:[Out:{t_17,t_18,},],attr:[],party:[bob,]}"]
12 [label="publish:{in:[In:{t_15,},],out:[Out:{t_19,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
10 -> 11 [label = "t_16:{Greater_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
4 -> 11 [label = "t_8:{compare_long_0:PRIVATE:INT64}"]
4 -> 11 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_8:{compare_long_0:PRIVATE:INT64}"]
5 -> 7 [label = "t_10:{compare_long_0:SECRET:INT64}"]
6 -> 7 [label = "t_11:{compare_long_0:SECRET:INT64}"]
7 -> 10 [label = "t_12:{Greater_out:SECRET:BOOL}"]
7 -> 8 [label = "t_12:{Greater_out:SECRET:BOOL}"]
8 -> 9 [label = "t_13:{Greater_out:PRIVATE:BOOL}"]
9 -> 12 [label = "t_15:{join_long_0:PRIVATE:INT64}"]
}`},
	{`select ta.plain_long_0 in (1,2,3) from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_1,},],out:[LeftJoinIndex:{t_2,},RightJoinIndex:{t_3,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_2,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[bob,]}"]
5 [label="make_constant:{in:[],out:[Out:{t_6,},],attr:[scalar:1,to_status:1,],party:[alice,bob,carol,]}"]
6 [label="broadcast:{in:[In:{t_6,},ShapeRefTensor:{t_4,},],out:[Out:{t_7,},],attr:[],party:[alice,]}"]
7 [label="Equal:{in:[Left:{t_4,},Right:{t_7,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
8 [label="make_constant:{in:[],out:[Out:{t_9,},],attr:[scalar:2,to_status:1,],party:[alice,bob,carol,]}"]
9 [label="broadcast:{in:[In:{t_9,},ShapeRefTensor:{t_4,},],out:[Out:{t_10,},],attr:[],party:[alice,]}"]
10 [label="Equal:{in:[Left:{t_4,},Right:{t_10,},],out:[Out:{t_11,},],attr:[],party:[alice,]}"]
11 [label="make_constant:{in:[],out:[Out:{t_12,},],attr:[scalar:3,to_status:1,],party:[alice,bob,carol,]}"]
12 [label="broadcast:{in:[In:{t_12,},ShapeRefTensor:{t_4,},],out:[Out:{t_13,},],attr:[],party:[alice,]}"]
13 [label="Equal:{in:[Left:{t_4,},Right:{t_13,},],out:[Out:{t_14,},],attr:[],party:[alice,]}"]
14 [label="LogicalOr:{in:[Left:{t_11,},Right:{t_14,},],out:[Out:{t_15,},],attr:[],party:[alice,]}"]
15 [label="LogicalOr:{in:[Left:{t_8,},Right:{t_15,},],out:[Out:{t_16,},],attr:[],party:[alice,]}"]
16 [label="publish:{in:[In:{t_16,},],out:[Out:{t_17,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
10 -> 14 [label = "t_11:{Equal_out:PRIVATE:BOOL}"]
11 -> 12 [label = "t_12:{constant_data:PUBLIC:INT64}"]
12 -> 13 [label = "t_13:{constant_data:PRIVATE:INT64}"]
13 -> 14 [label = "t_14:{Equal_out:PRIVATE:BOOL}"]
14 -> 15 [label = "t_15:{LogicalOr_out:PRIVATE:BOOL}"]
15 -> 16 [label = "t_16:{LogicalOr_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
3 -> 10 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 12 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 13 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 7 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
3 -> 9 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_6:{constant_data:PUBLIC:INT64}"]
6 -> 7 [label = "t_7:{constant_data:PRIVATE:INT64}"]
7 -> 15 [label = "t_8:{Equal_out:PRIVATE:BOOL}"]
8 -> 9 [label = "t_9:{constant_data:PUBLIC:INT64}"]
9 -> 10 [label = "t_10:{constant_data:PRIVATE:INT64}"]
}`},
	{`select ta.plain_long_0 in (select tb.plain_long_0 from bob.tbl_0 as tb) from alice.tbl_0 as ta`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="psi_in:{in:[Left:{t_0,},Right:{t_1,},],out:[Out:{t_2,},],attr:[algorithm:1,input_party_codes:[alice bob],reveal_to:[alice],],party:[alice,bob,]}"]
3 [label="publish:{in:[In:{t_2,},],out:[Out:{t_3,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{psi_in_out:PRIVATE:BOOL}"]
}`},
	{`select ta.compare_long_0 in (select tb.compare_long_0 from bob.tbl_0 as tb) from alice.tbl_0 as ta`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.compare_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.compare_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="psi_in:{in:[Left:{t_0,},Right:{t_1,},],out:[Out:{t_2,},],attr:[algorithm:1,input_party_codes:[alice bob],reveal_to:[alice],],party:[alice,bob,]}"]
3 [label="publish:{in:[In:{t_2,},],out:[Out:{t_3,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{compare_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{psi_in_out:PRIVATE:BOOL}"]
}`},
	{`select ta.compare_long_0 from alice.tbl_0 as ta where ta.compare_long_0 in (select tb.compare_long_0 from bob.tbl_0 as tb)`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.compare_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.compare_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="psi_in:{in:[Left:{t_0,},Right:{t_1,},],out:[Out:{t_2,},],attr:[algorithm:1,input_party_codes:[alice bob],reveal_to:[alice],],party:[alice,bob,]}"]
3 [label="apply_filter:{in:[Filter:{t_2,},In:{t_0,},],out:[Out:{t_3,},],attr:[],party:[alice,]}"]
4 [label="publish:{in:[In:{t_3,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{compare_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{psi_in_out:PRIVATE:BOOL}"]
3 -> 4 [label = "t_3:{compare_long_0:PRIVATE:INT64}"]
}`},
	{`select ta.compare_long_0 from alice.tbl_0 as ta where ta.compare_long_0 not in (select tb.compare_long_0 from bob.tbl_0 as tb)`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.compare_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.compare_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="psi_in:{in:[Left:{t_0,},Right:{t_1,},],out:[Out:{t_2,},],attr:[algorithm:1,input_party_codes:[alice bob],reveal_to:[alice],],party:[alice,bob,]}"]
3 [label="not:{in:[In:{t_2,},],out:[Out:{t_3,},],attr:[],party:[alice,]}"]
4 [label="apply_filter:{in:[Filter:{t_3,},In:{t_0,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
5 [label="publish:{in:[In:{t_4,},],out:[Out:{t_5,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 4 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{compare_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{psi_in_out:PRIVATE:BOOL}"]
3 -> 4 [label = "t_3:{psi_in_out:PRIVATE:BOOL}"]
4 -> 5 [label = "t_4:{compare_long_0:PRIVATE:INT64}"]
}`},
	{`select not(ta.plain_long_0 > tb.plain_long_0) from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_0,},Right:{t_1,},],out:[LeftJoinIndex:{t_2,},RightJoinIndex:{t_3,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,},RowsIndexFilter:{t_2,},],out:[Out:{t_4,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_1,},RowsIndexFilter:{t_3,},],out:[Out:{t_5,},],attr:[],party:[bob,]}"]
5 [label="copy:{in:[In:{t_5,},],out:[Out:{t_6,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
6 [label="Greater:{in:[Left:{t_4,},Right:{t_6,},],out:[Out:{t_7,},],attr:[],party:[alice,]}"]
7 [label="not:{in:[In:{t_7,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
8 [label="publish:{in:[In:{t_8,},],out:[Out:{t_9,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
3 -> 6 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
4 -> 5 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_6:{plain_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_7:{Greater_out:PRIVATE:BOOL}"]
7 -> 8 [label = "t_8:{Greater_out:PRIVATE:BOOL}"]
}`},
	{`select not(ta.compare_long_0 > tb.compare_long_0) from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.compare_long_0,ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select tb.compare_long_0,tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_3,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="make_share:{in:[In:{t_6,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_8,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="Greater:{in:[Left:{t_10,},Right:{t_11,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="not:{in:[In:{t_12,},],out:[Out:{t_13,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="make_private:{in:[In:{t_13,},],out:[Out:{t_14,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
10 [label="publish:{in:[In:{t_14,},],out:[Out:{t_15,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
2 -> 3 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_8:{compare_long_0:PRIVATE:INT64}"]
5 -> 7 [label = "t_10:{compare_long_0:SECRET:INT64}"]
6 -> 7 [label = "t_11:{compare_long_0:SECRET:INT64}"]
7 -> 8 [label = "t_12:{Greater_out:SECRET:BOOL}"]
8 -> 9 [label = "t_13:{Greater_out:SECRET:BOOL}"]
9 -> 10 [label = "t_14:{Greater_out:PRIVATE:BOOL}"]
}`},
	{`select (ta.compare_long_0 + tb.compare_long_0 - 3) > 0 from alice.tbl_0 as ta join bob.tbl_0 as tb on ta.plain_long_0 = tb.plain_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select ta.compare_long_0,ta.plain_long_0 from alice.tbl_0 as ta,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select tb.compare_long_0,tb.plain_long_0 from bob.tbl_0 as tb,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_3,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="make_share:{in:[In:{t_6,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_8,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="Add:{in:[Left:{t_10,},Right:{t_11,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_constant:{in:[],out:[Out:{t_13,},],attr:[scalar:3,to_status:1,],party:[alice,bob,carol,]}"]
9 [label="broadcast:{in:[In:{t_13,},ShapeRefTensor:{t_12,},],out:[Out:{t_14,},],attr:[],party:[alice,bob,carol,]}"]
10 [label="Minus:{in:[Left:{t_12,},Right:{t_14,},],out:[Out:{t_15,},],attr:[],party:[alice,bob,carol,]}"]
11 [label="make_constant:{in:[],out:[Out:{t_16,},],attr:[scalar:0,to_status:1,],party:[alice,bob,carol,]}"]
12 [label="broadcast:{in:[In:{t_16,},ShapeRefTensor:{t_15,},],out:[Out:{t_17,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="Greater:{in:[Left:{t_15,},Right:{t_17,},],out:[Out:{t_18,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_private:{in:[In:{t_18,},],out:[Out:{t_19,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
15 [label="publish:{in:[In:{t_19,},],out:[Out:{t_20,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{plain_long_0:PRIVATE:INT64}"]
10 -> 12 [label = "t_15:{Minus_out:SECRET:INT64}"]
10 -> 13 [label = "t_15:{Minus_out:SECRET:INT64}"]
11 -> 12 [label = "t_16:{constant_data:PUBLIC:INT64}"]
12 -> 13 [label = "t_17:{constant_data:PUBLIC:INT64}"]
13 -> 14 [label = "t_18:{Greater_out:SECRET:BOOL}"]
14 -> 15 [label = "t_19:{Greater_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_4:{plain_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_6:{compare_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_8:{compare_long_0:PRIVATE:INT64}"]
5 -> 7 [label = "t_10:{compare_long_0:SECRET:INT64}"]
6 -> 7 [label = "t_11:{compare_long_0:SECRET:INT64}"]
7 -> 10 [label = "t_12:{Add_out:SECRET:INT64}"]
7 -> 9 [label = "t_12:{Add_out:SECRET:INT64}"]
8 -> 9 [label = "t_13:{constant_data:PUBLIC:INT64}"]
9 -> 10 [label = "t_14:{constant_data:PUBLIC:INT64}"]
}`},
	{`select distinct groupby_long_0 from (select ta.groupby_long_0 from alice.tbl_0 as ta union all select tb.groupby_long_0 from bob.tbl_0 as tb) as tt`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select any_value(ta.groupby_long_0) as expr_182 from alice.tbl_0 as ta group by ta.groupby_long_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select any_value(tb.groupby_long_0) as expr_182 from bob.tbl_0 as tb group by tb.groupby_long_0,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="make_share:{in:[In:{t_0,},],out:[Out:{t_2,},],attr:[],party:[alice,bob,carol,]}"]
3 [label="make_share:{in:[In:{t_1,},],out:[Out:{t_3,},],attr:[],party:[alice,bob,carol,]}"]
4 [label="concat:{in:[In:{t_2,t_3,},],out:[Out:{t_4,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
5 [label="make_private:{in:[In:{t_4,},],out:[Out:{t_5,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
6 [label="group:{in:[Key:{t_5,},],out:[GroupId:{t_6,},GroupNum:{t_7,},],attr:[],party:[alice,]}"]
7 [label="firstrow:{in:[GroupId:{t_6,},GroupNum:{t_7,},In:{t_5,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
8 [label="publish:{in:[In:{t_8,},],out:[Out:{t_9,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{Column#182:PRIVATE:INT64}"]
1 -> 3 [label = "t_1:{Column#182:PRIVATE:INT64}"]
2 -> 4 [label = "t_2:{Column#182:SECRET:INT64}"]
3 -> 4 [label = "t_3:{Column#182:SECRET:INT64}"]
4 -> 5 [label = "t_4:{Column#182:SECRET:INT64}"]
5 -> 6 [label = "t_5:{Column#182:PRIVATE:INT64}"]
5 -> 7 [label = "t_5:{Column#182:PRIVATE:INT64}"]
6 -> 7 [label = "t_6:{group_id:PRIVATE:INT64}"]
6 -> 7 [label = "t_7:{group_num:PRIVATE:INT64}"]
7 -> 8 [label = "t_8:{Column#182_firstrow:PRIVATE:INT64}"]
}`},
	{`select ta.groupby_long_0 from alice.tbl_0 as ta union select tb.groupby_long_0 from bob.tbl_0 as tb`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select any_value(ta.groupby_long_0) as expr_182 from alice.tbl_0 as ta group by ta.groupby_long_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_1,},],attr:[sql:select any_value(tb.groupby_long_0) as expr_182 from bob.tbl_0 as tb group by tb.groupby_long_0,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="make_share:{in:[In:{t_0,},],out:[Out:{t_2,},],attr:[],party:[alice,bob,carol,]}"]
3 [label="make_share:{in:[In:{t_1,},],out:[Out:{t_3,},],attr:[],party:[alice,bob,carol,]}"]
4 [label="concat:{in:[In:{t_2,t_3,},],out:[Out:{t_4,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
5 [label="make_private:{in:[In:{t_4,},],out:[Out:{t_5,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
6 [label="group:{in:[Key:{t_5,},],out:[GroupId:{t_6,},GroupNum:{t_7,},],attr:[],party:[alice,]}"]
7 [label="firstrow:{in:[GroupId:{t_6,},GroupNum:{t_7,},In:{t_5,},],out:[Out:{t_8,},],attr:[],party:[alice,]}"]
8 [label="publish:{in:[In:{t_8,},],out:[Out:{t_9,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_0:{Column#182:PRIVATE:INT64}"]
1 -> 3 [label = "t_1:{Column#182:PRIVATE:INT64}"]
2 -> 4 [label = "t_2:{Column#182:SECRET:INT64}"]
3 -> 4 [label = "t_3:{Column#182:SECRET:INT64}"]
4 -> 5 [label = "t_4:{Column#182:SECRET:INT64}"]
5 -> 6 [label = "t_5:{Column#182:PRIVATE:INT64}"]
5 -> 7 [label = "t_5:{Column#182:PRIVATE:INT64}"]
6 -> 7 [label = "t_6:{group_id:PRIVATE:INT64}"]
6 -> 7 [label = "t_7:{group_num:PRIVATE:INT64}"]
7 -> 8 [label = "t_8:{Column#182_firstrow:PRIVATE:INT64}"]
}`},
	{`select plain_float_0 from (select plain_float_0 from alice.tbl_1 union all select plain_float_0 from alice.tbl_2) as tt group by plain_float_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,},],attr:[sql:select any_value(tt.expr_183) as plain_float_0 from ((select any_value(tbl_1.plain_float_0) as expr_183,count(1) as expr_184 from alice.tbl_1 group by tbl_1.plain_float_0) union all (select any_value(tbl_2.plain_float_0) as expr_183,count(1) as expr_184 from alice.tbl_2 group by tbl_2.plain_float_0)) as tt group by tt.expr_183 having count(tt.expr_184)>=4,table_refs:[alice.tbl_1 alice.tbl_2],],party:[alice,]}"]
1 [label="publish:{in:[In:{t_0,},],out:[Out:{t_1,},],attr:[],party:[alice,]}"]
0 -> 1 [label = "t_0:{Column#181:PRIVATE:FLOAT32}"]
}`},
	{`select count(*), max(aggregate_long_0) from (select aggregate_long_0, groupby_long_0 from alice.tbl_0 union all select aggregate_long_0, groupby_long_0 from bob.tbl_1 union all select aggregate_long_0, groupby_long_0 from carol.tbl_2) as u`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select count(1) as expr_275,max(tbl_0.aggregate_long_0) as expr_276 from alice.tbl_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select count(1) as expr_275,max(tbl_1.aggregate_long_0) as expr_276 from bob.tbl_1,table_refs:[bob.tbl_1],],party:[bob,]}"]
2 [label="runsql:{in:[],out:[Out:{t_4,t_5,},],attr:[sql:select count(1) as expr_275,max(tbl_2.aggregate_long_0) as expr_276 from carol.tbl_2,table_refs:[carol.tbl_2],],party:[carol,]}"]
3 [label="make_share:{in:[In:{t_0,},],out:[Out:{t_6,},],attr:[],party:[alice,bob,carol,]}"]
4 [label="make_share:{in:[In:{t_2,},],out:[Out:{t_7,},],attr:[],party:[alice,bob,carol,]}"]
5 [label="make_share:{in:[In:{t_4,},],out:[Out:{t_8,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="concat:{in:[In:{t_6,t_7,t_8,},],out:[Out:{t_9,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
7 [label="make_share:{in:[In:{t_1,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_share:{in:[In:{t_3,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="make_share:{in:[In:{t_5,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
10 [label="concat:{in:[In:{t_10,t_11,t_12,},],out:[Out:{t_13,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
11 [label="reduce_sum:{in:[In:{t_9,},],out:[Out:{t_14,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="reduce_max:{in:[In:{t_13,},],out:[Out:{t_15,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_private:{in:[In:{t_14,},],out:[Out:{t_16,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
14 [label="make_private:{in:[In:{t_15,},],out:[Out:{t_18,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
15 [label="publish:{in:[In:{t_16,t_18,},],out:[Out:{t_17,t_19,},],attr:[],party:[alice,]}"]
0 -> 3 [label = "t_0:{Column#275:PRIVATE:INT64}"]
0 -> 7 [label = "t_1:{Column#276:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{Column#275:PRIVATE:INT64}"]
1 -> 8 [label = "t_3:{Column#276:PRIVATE:INT64}"]
10 -> 12 [label = "t_13:{Column#276:SECRET:INT64}"]
11 -> 13 [label = "t_14:{Column#275:SECRET:INT64}"]
12 -> 14 [label = "t_15:{Column#276:SECRET:INT64}"]
13 -> 15 [label = "t_16:{Column#275:PRIVATE:INT64}"]
14 -> 15 [label = "t_18:{Column#276:PRIVATE:INT64}"]
2 -> 5 [label = "t_4:{Column#275:PRIVATE:INT64}"]
2 -> 9 [label = "t_5:{Column#276:PRIVATE:INT64}"]
3 -> 6 [label = "t_6:{Column#275:SECRET:INT64}"]
4 -> 6 [label = "t_7:{Column#275:SECRET:INT64}"]
5 -> 6 [label = "t_8:{Column#275:SECRET:INT64}"]
6 -> 11 [label = "t_9:{Column#275:SECRET:INT64}"]
7 -> 10 [label = "t_10:{Column#276:SECRET:INT64}"]
8 -> 10 [label = "t_11:{Column#276:SECRET:INT64}"]
9 -> 10 [label = "t_12:{Column#276:SECRET:INT64}"]
}`},
	{`select count(*), max(aggregate_long_0) from (select aggregate_long_0, groupby_long_0 from alice.tbl_0 union all select aggregate_long_0, groupby_long_0 from bob.tbl_1 union all select aggregate_long_0, groupby_long_0 from carol.tbl_2) as u group by groupby_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,},],attr:[sql:select count(1) as expr_275,max(tbl_0.aggregate_long_0) as expr_276,any_value(tbl_0.groupby_long_0) as expr_272 from alice.tbl_0 group by tbl_0.groupby_long_0,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_3,t_4,t_5,},],attr:[sql:select count(1) as expr_275,max(tbl_1.aggregate_long_0) as expr_276,any_value(tbl_1.groupby_long_0) as expr_272 from bob.tbl_1 group by tbl_1.groupby_long_0,table_refs:[bob.tbl_1],],party:[bob,]}"]
2 [label="runsql:{in:[],out:[Out:{t_6,t_7,t_8,},],attr:[sql:select count(1) as expr_275,max(tbl_2.aggregate_long_0) as expr_276,any_value(tbl_2.groupby_long_0) as expr_272 from carol.tbl_2 group by tbl_2.groupby_long_0,table_refs:[carol.tbl_2],],party:[carol,]}"]
3 [label="make_share:{in:[In:{t_0,},],out:[Out:{t_9,},],attr:[],party:[alice,bob,carol,]}"]
4 [label="make_share:{in:[In:{t_3,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
5 [label="make_share:{in:[In:{t_6,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="concat:{in:[In:{t_9,t_10,t_11,},],out:[Out:{t_12,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
7 [label="make_share:{in:[In:{t_1,},],out:[Out:{t_13,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_share:{in:[In:{t_4,},],out:[Out:{t_14,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="make_share:{in:[In:{t_7,},],out:[Out:{t_15,},],attr:[],party:[alice,bob,carol,]}"]
10 [label="concat:{in:[In:{t_13,t_14,t_15,},],out:[Out:{t_16,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
11 [label="make_share:{in:[In:{t_2,},],out:[Out:{t_17,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="make_share:{in:[In:{t_5,},],out:[Out:{t_18,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_share:{in:[In:{t_8,},],out:[Out:{t_19,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="concat:{in:[In:{t_17,t_18,t_19,},],out:[Out:{t_20,},],attr:[axis:0,],party:[alice,bob,carol,]}"]
15 [label="make_private:{in:[In:{t_20,},],out:[Out:{t_21,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
16 [label="group:{in:[Key:{t_21,},],out:[GroupId:{t_22,},GroupNum:{t_23,},],attr:[],party:[alice,]}"]
17 [label="make_private:{in:[In:{t_12,},],out:[Out:{t_24,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
18 [label="sum:{in:[GroupId:{t_22,},GroupNum:{t_23,},In:{t_24,},],out:[Out:{t_25,},],attr:[],party:[alice,]}"]
19 [label="make_private:{in:[In:{t_16,},],out:[Out:{t_26,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
20 [label="max:{in:[GroupId:{t_22,},GroupNum:{t_23,},In:{t_26,},],out:[Out:{t_27,},],attr:[],party:[alice,]}"]
21 [label="make_constant:{in:[],out:[Out:{t_28,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
22 [label="broadcast:{in:[In:{t_28,},ShapeRefTensor:{t_25,},],out:[Out:{t_29,},],attr:[],party:[alice,]}"]
23 [label="GreaterEqual:{in:[Left:{t_25,},Right:{t_29,},],out:[Out:{t_30,},],attr:[],party:[alice,]}"]
24 [label="apply_filter:{in:[Filter:{t_30,},In:{t_25,t_27,},],out:[Out:{t_31,t_32,},],attr:[],party:[alice,]}"]
25 [label="publish:{in:[In:{t_31,t_32,},],out:[Out:{t_33,t_34,},],attr:[],party:[alice,]}"]
0 -> 11 [label = "t_2:{Column#272:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{Column#275:PRIVATE:INT64}"]
0 -> 7 [label = "t_1:{Column#276:PRIVATE:INT64}"]
1 -> 12 [label = "t_5:{Column#272:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{Column#275:PRIVATE:INT64}"]
1 -> 8 [label = "t_4:{Column#276:PRIVATE:INT64}"]
10 -> 19 [label = "t_16:{Column#276:SECRET:INT64}"]
11 -> 14 [label = "t_17:{Column#272:SECRET:INT64}"]
12 -> 14 [label = "t_18:{Column#272:SECRET:INT64}"]
13 -> 14 [label = "t_19:{Column#272:SECRET:INT64}"]
14 -> 15 [label = "t_20:{Column#272:SECRET:INT64}"]
15 -> 16 [label = "t_21:{Column#272:PRIVATE:INT64}"]
16 -> 18 [label = "t_22:{group_id:PRIVATE:INT64}"]
16 -> 18 [label = "t_23:{group_num:PRIVATE:INT64}"]
16 -> 20 [label = "t_22:{group_id:PRIVATE:INT64}"]
16 -> 20 [label = "t_23:{group_num:PRIVATE:INT64}"]
17 -> 18 [label = "t_24:{Column#275:PRIVATE:INT64}"]
18 -> 22 [label = "t_25:{Column#275_sum:PRIVATE:INT64}"]
18 -> 23 [label = "t_25:{Column#275_sum:PRIVATE:INT64}"]
18 -> 24 [label = "t_25:{Column#275_sum:PRIVATE:INT64}"]
19 -> 20 [label = "t_26:{Column#276:PRIVATE:INT64}"]
2 -> 13 [label = "t_8:{Column#272:PRIVATE:INT64}"]
2 -> 5 [label = "t_6:{Column#275:PRIVATE:INT64}"]
2 -> 9 [label = "t_7:{Column#276:PRIVATE:INT64}"]
20 -> 24 [label = "t_27:{Column#276_max:PRIVATE:INT64}"]
21 -> 22 [label = "t_28:{constant_data:PUBLIC:INT64}"]
22 -> 23 [label = "t_29:{constant_data:PRIVATE:INT64}"]
23 -> 24 [label = "t_30:{GreaterEqual_out:PRIVATE:BOOL}"]
24 -> 25 [label = "t_31:{Column#275_sum:PRIVATE:INT64}"]
24 -> 25 [label = "t_32:{Column#276_max:PRIVATE:INT64}"]
3 -> 6 [label = "t_9:{Column#275:SECRET:INT64}"]
4 -> 6 [label = "t_10:{Column#275:SECRET:INT64}"]
5 -> 6 [label = "t_11:{Column#275:SECRET:INT64}"]
6 -> 17 [label = "t_12:{Column#275:SECRET:INT64}"]
7 -> 10 [label = "t_13:{Column#276:SECRET:INT64}"]
8 -> 10 [label = "t_14:{Column#276:SECRET:INT64}"]
9 -> 10 [label = "t_15:{Column#276:SECRET:INT64}"]
}`},
	{`select alice.plain_long_0 from alice.tbl_0 as alice join bob.tbl_0 as bob on alice.join_long_0 = bob.join_long_0 where alice.compare_long_0 Div bob.compare_long_0 > bob.compare_long_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,},],attr:[sql:select alice.compare_long_0,alice.join_long_0,alice.plain_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_3,t_4,},],attr:[sql:select bob.compare_long_0,bob.join_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_4,},],out:[LeftJoinIndex:{t_5,},RightJoinIndex:{t_6,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,t_2,},RowsIndexFilter:{t_5,},],out:[Out:{t_7,t_8,t_9,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_3,t_4,},RowsIndexFilter:{t_6,},],out:[Out:{t_10,t_11,},],attr:[],party:[bob,]}"]
5 [label="make_share:{in:[In:{t_7,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_10,},],out:[Out:{t_13,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="IntDiv:{in:[Left:{t_12,},Right:{t_13,},],out:[Out:{t_14,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="Greater:{in:[Left:{t_14,},Right:{t_13,},],out:[Out:{t_15,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="make_private:{in:[In:{t_15,},],out:[Out:{t_16,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
10 [label="apply_filter:{in:[Filter:{t_16,},In:{t_7,t_8,t_9,},],out:[Out:{t_17,t_18,t_19,},],attr:[],party:[alice,]}"]
11 [label="make_private:{in:[In:{t_15,},],out:[Out:{t_20,},],attr:[reveal_to:bob,],party:[alice,bob,carol,]}"]
12 [label="apply_filter:{in:[Filter:{t_20,},In:{t_10,t_11,},],out:[Out:{t_21,t_22,},],attr:[],party:[bob,]}"]
13 [label="publish:{in:[In:{t_19,},],out:[Out:{t_23,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
10 -> 13 [label = "t_19:{plain_long_0:PRIVATE:INT64}"]
11 -> 12 [label = "t_20:{Greater_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_6:{join_long_0:PRIVATE:INT64}"]
3 -> 10 [label = "t_7:{compare_long_0:PRIVATE:INT64}"]
3 -> 10 [label = "t_8:{join_long_0:PRIVATE:INT64}"]
3 -> 10 [label = "t_9:{plain_long_0:PRIVATE:INT64}"]
3 -> 5 [label = "t_7:{compare_long_0:PRIVATE:INT64}"]
4 -> 12 [label = "t_10:{compare_long_0:PRIVATE:INT64}"]
4 -> 12 [label = "t_11:{join_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_10:{compare_long_0:PRIVATE:INT64}"]
5 -> 7 [label = "t_12:{compare_long_0:SECRET:INT64}"]
6 -> 7 [label = "t_13:{compare_long_0:SECRET:INT64}"]
6 -> 8 [label = "t_13:{compare_long_0:SECRET:INT64}"]
7 -> 8 [label = "t_14:{IntDiv_out:SECRET:INT64}"]
8 -> 11 [label = "t_15:{Greater_out:SECRET:BOOL}"]
8 -> 9 [label = "t_15:{Greater_out:SECRET:BOOL}"]
9 -> 10 [label = "t_16:{Greater_out:PRIVATE:BOOL}"]
}`},
	{`select alice.groupby_string_0,bob.groupby_string_0, count(*) as cnt from alice.tbl_0 as alice join bob.tbl_0 as bob where alice.join_long_0=bob.join_long_0 group by alice.groupby_string_0, bob.groupby_string_0`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,},],attr:[sql:select alice.groupby_string_0,alice.join_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_2,t_3,},],attr:[sql:select bob.groupby_string_0,bob.join_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_3,},],out:[LeftJoinIndex:{t_4,},RightJoinIndex:{t_5,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,},RowsIndexFilter:{t_4,},],out:[Out:{t_6,t_7,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_2,t_3,},RowsIndexFilter:{t_5,},],out:[Out:{t_8,t_9,},],attr:[],party:[bob,]}"]
5 [label="make_share:{in:[In:{t_6,},],out:[Out:{t_10,},],attr:[],party:[alice,bob,carol,]}"]
6 [label="make_share:{in:[In:{t_8,},],out:[Out:{t_11,},],attr:[],party:[alice,bob,carol,]}"]
7 [label="make_share:{in:[In:{t_7,},],out:[Out:{t_12,},],attr:[],party:[alice,bob,carol,]}"]
8 [label="make_share:{in:[In:{t_9,},],out:[Out:{t_13,},],attr:[],party:[alice,bob,carol,]}"]
9 [label="sort:{in:[In:{t_10,t_11,t_10,t_12,t_11,t_13,},Key:{t_10,t_11,},],out:[Out:{t_14,t_15,t_16,t_17,t_18,t_19,},],attr:[reverse:false,],party:[alice,bob,carol,]}"]
10 [label="group_mark:{in:[Key:{t_14,t_15,},],out:[Group:{t_20,},],attr:[],party:[alice,bob,carol,]}"]
11 [label="count:{in:[Group:{t_20,},In:{t_20,},],out:[Out:{t_21,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="shuffle:{in:[In:{t_21,t_16,t_18,t_20,},],out:[Out:{t_22,t_23,t_24,t_25,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="make_public:{in:[In:{t_25,},],out:[Out:{t_26,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="filter:{in:[Filter:{t_26,},In:{t_22,t_23,t_24,},],out:[Out:{t_27,t_28,t_29,},],attr:[],party:[alice,bob,carol,]}"]
15 [label="make_constant:{in:[],out:[Out:{t_30,},],attr:[scalar:4,to_status:1,],party:[alice,bob,carol,]}"]
16 [label="broadcast:{in:[In:{t_30,},ShapeRefTensor:{t_27,},],out:[Out:{t_31,},],attr:[],party:[alice,bob,carol,]}"]
17 [label="make_private:{in:[In:{t_27,},],out:[Out:{t_32,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
18 [label="make_private:{in:[In:{t_31,},],out:[Out:{t_33,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
19 [label="GreaterEqual:{in:[Left:{t_32,},Right:{t_33,},],out:[Out:{t_34,},],attr:[],party:[alice,]}"]
20 [label="make_public:{in:[In:{t_34,},],out:[Out:{t_35,},],attr:[],party:[alice,bob,carol,]}"]
21 [label="apply_filter:{in:[Filter:{t_35,},In:{t_28,t_29,t_27,},],out:[Out:{t_36,t_37,t_38,},],attr:[],party:[alice,bob,carol,]}"]
22 [label="make_private:{in:[In:{t_36,},],out:[Out:{t_39,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
23 [label="make_private:{in:[In:{t_37,},],out:[Out:{t_41,},],attr:[reveal_to:bob,],party:[alice,bob,carol,]}"]
24 [label="copy:{in:[In:{t_41,},],out:[Out:{t_42,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
25 [label="make_private:{in:[In:{t_38,},],out:[Out:{t_44,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
26 [label="publish:{in:[In:{t_39,t_42,t_44,},],out:[Out:{t_40,t_43,t_45,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{groupby_string_0:PRIVATE:STRING}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_2:{groupby_string_0:PRIVATE:STRING}"]
1 -> 4 [label = "t_3:{join_long_0:PRIVATE:INT64}"]
10 -> 11 [label = "t_20:{group_mark:SECRET:BOOL}"]
10 -> 11 [label = "t_20:{group_mark:SECRET:BOOL}"]
10 -> 12 [label = "t_20:{group_mark:SECRET:BOOL}"]
11 -> 12 [label = "t_21:{group_mark:SECRET:INT64}"]
12 -> 13 [label = "t_25:{group_mark:SECRET:BOOL}"]
12 -> 14 [label = "t_22:{group_mark:SECRET:INT64}"]
12 -> 14 [label = "t_23:{groupby_string_0:SECRET:STRING}"]
12 -> 14 [label = "t_24:{groupby_string_0:SECRET:STRING}"]
13 -> 14 [label = "t_26:{group_mark:PUBLIC:BOOL}"]
14 -> 16 [label = "t_27:{group_mark:SECRET:INT64}"]
14 -> 17 [label = "t_27:{group_mark:SECRET:INT64}"]
14 -> 21 [label = "t_27:{group_mark:SECRET:INT64}"]
14 -> 21 [label = "t_28:{groupby_string_0:SECRET:STRING}"]
14 -> 21 [label = "t_29:{groupby_string_0:SECRET:STRING}"]
15 -> 16 [label = "t_30:{constant_data:PUBLIC:INT64}"]
16 -> 18 [label = "t_31:{constant_data:PUBLIC:INT64}"]
17 -> 19 [label = "t_32:{group_mark:PRIVATE:INT64}"]
18 -> 19 [label = "t_33:{constant_data:PRIVATE:INT64}"]
19 -> 20 [label = "t_34:{GreaterEqual_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_5:{join_long_0:PRIVATE:INT64}"]
20 -> 21 [label = "t_35:{GreaterEqual_out:PUBLIC:BOOL}"]
21 -> 22 [label = "t_36:{groupby_string_0:SECRET:STRING}"]
21 -> 23 [label = "t_37:{groupby_string_0:SECRET:STRING}"]
21 -> 25 [label = "t_38:{group_mark:SECRET:INT64}"]
22 -> 26 [label = "t_39:{groupby_string_0:PRIVATE:STRING}"]
23 -> 24 [label = "t_41:{groupby_string_0:PRIVATE:STRING}"]
24 -> 26 [label = "t_42:{groupby_string_0:PRIVATE:STRING}"]
25 -> 26 [label = "t_44:{group_mark:PRIVATE:INT64}"]
3 -> 5 [label = "t_6:{groupby_string_0:PRIVATE:STRING}"]
3 -> 7 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_8:{groupby_string_0:PRIVATE:STRING}"]
4 -> 8 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
5 -> 9 [label = "t_10:{groupby_string_0:SECRET:STRING}"]
5 -> 9 [label = "t_10:{groupby_string_0:SECRET:STRING}"]
5 -> 9 [label = "t_10:{groupby_string_0:SECRET:STRING}"]
6 -> 9 [label = "t_11:{groupby_string_0:SECRET:STRING}"]
6 -> 9 [label = "t_11:{groupby_string_0:SECRET:STRING}"]
6 -> 9 [label = "t_11:{groupby_string_0:SECRET:STRING}"]
7 -> 9 [label = "t_12:{join_long_0:SECRET:INT64}"]
8 -> 9 [label = "t_13:{join_long_0:SECRET:INT64}"]
9 -> 10 [label = "t_14:{groupby_string_0:SECRET:STRING}"]
9 -> 10 [label = "t_15:{groupby_string_0:SECRET:STRING}"]
9 -> 12 [label = "t_16:{groupby_string_0:SECRET:STRING}"]
9 -> 12 [label = "t_18:{groupby_string_0:SECRET:STRING}"]
}`},
	{`select case when alice.compare_long_0 > bob.compare_long_0 then alice.plain_long_0 else bob.plain_long_0 end as case_when1, case when bob.compare_long_0 > carol.compare_long_0 then 1 else 0 end as case_when2 from alice.tbl_0 as alice, bob.tbl_0 as bob, carol.tbl_0 as carol where alice.join_long_0 = bob.join_long_0 and bob.join_long_0 = carol.join_long_0;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,},],attr:[sql:select alice.compare_long_0,alice.join_long_0,alice.plain_long_0 from alice.tbl_0 as alice,table_refs:[alice.tbl_0],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_3,t_4,t_5,},],attr:[sql:select bob.compare_long_0,bob.join_long_0,bob.plain_long_0 from bob.tbl_0 as bob,table_refs:[bob.tbl_0],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_4,},],out:[LeftJoinIndex:{t_6,},RightJoinIndex:{t_7,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,t_2,},RowsIndexFilter:{t_6,},],out:[Out:{t_8,t_9,t_10,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_3,t_4,t_5,},RowsIndexFilter:{t_7,},],out:[Out:{t_11,t_12,t_13,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_14,t_15,},],attr:[sql:select carol.compare_long_0,carol.join_long_0 from carol.tbl_0 as carol,table_refs:[carol.tbl_0],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_12,},Right:{t_15,},],out:[LeftJoinIndex:{t_16,},RightJoinIndex:{t_17,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_16,},],out:[Out:{t_18,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_8,t_9,t_10,},RowsIndexFilter:{t_18,},],out:[Out:{t_19,t_20,t_21,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_11,t_12,t_13,},RowsIndexFilter:{t_16,},],out:[Out:{t_22,t_23,t_24,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_14,t_15,},RowsIndexFilter:{t_17,},],out:[Out:{t_25,t_26,},],attr:[],party:[carol,]}"]
11 [label="make_share:{in:[In:{t_19,},],out:[Out:{t_27,},],attr:[],party:[alice,bob,carol,]}"]
12 [label="make_share:{in:[In:{t_22,},],out:[Out:{t_28,},],attr:[],party:[alice,bob,carol,]}"]
13 [label="Greater:{in:[Left:{t_27,},Right:{t_28,},],out:[Out:{t_29,},],attr:[],party:[alice,bob,carol,]}"]
14 [label="make_private:{in:[In:{t_29,},],out:[Out:{t_31,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
15 [label="copy:{in:[In:{t_24,},],out:[Out:{t_32,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
16 [label="CaseWhen:{in:[Condition:{t_31,},Value:{t_21,},ValueElse:{t_32,},],out:[Out:{t_30,},],attr:[],party:[alice,]}"]
17 [label="make_share:{in:[In:{t_25,},],out:[Out:{t_33,},],attr:[],party:[alice,bob,carol,]}"]
18 [label="Greater:{in:[Left:{t_28,},Right:{t_33,},],out:[Out:{t_34,},],attr:[],party:[alice,bob,carol,]}"]
19 [label="make_constant:{in:[],out:[Out:{t_35,},],attr:[scalar:1,to_status:1,],party:[alice,bob,carol,]}"]
20 [label="make_constant:{in:[],out:[Out:{t_36,},],attr:[scalar:0,to_status:1,],party:[alice,bob,carol,]}"]
21 [label="broadcast:{in:[In:{t_35,t_36,},ShapeRefTensor:{t_34,},],out:[Out:{t_37,t_38,},],attr:[],party:[alice,bob,carol,]}"]
22 [label="make_private:{in:[In:{t_34,},],out:[Out:{t_40,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
23 [label="make_private:{in:[In:{t_37,},],out:[Out:{t_41,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
24 [label="make_private:{in:[In:{t_38,},],out:[Out:{t_42,},],attr:[reveal_to:alice,],party:[alice,bob,carol,]}"]
25 [label="CaseWhen:{in:[Condition:{t_40,},Value:{t_41,},ValueElse:{t_42,},],out:[Out:{t_39,},],attr:[],party:[alice,]}"]
26 [label="publish:{in:[In:{t_30,t_39,},],out:[Out:{t_43,t_44,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_0:{compare_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{join_long_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_2:{plain_long_0:PRIVATE:INT64}"]
1 -> 2 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_3:{compare_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_4:{join_long_0:PRIVATE:INT64}"]
1 -> 4 [label = "t_5:{plain_long_0:PRIVATE:INT64}"]
10 -> 17 [label = "t_25:{compare_long_0:PRIVATE:INT64}"]
11 -> 13 [label = "t_27:{compare_long_0:SECRET:INT64}"]
12 -> 13 [label = "t_28:{compare_long_0:SECRET:INT64}"]
12 -> 18 [label = "t_28:{compare_long_0:SECRET:INT64}"]
13 -> 14 [label = "t_29:{Greater_out:SECRET:BOOL}"]
14 -> 16 [label = "t_31:{Greater_out:PRIVATE:BOOL}"]
15 -> 16 [label = "t_32:{plain_long_0:PRIVATE:INT64}"]
16 -> 26 [label = "t_30:{plain_long_0:PRIVATE:INT64}"]
17 -> 18 [label = "t_33:{compare_long_0:SECRET:INT64}"]
18 -> 21 [label = "t_34:{Greater_out:SECRET:BOOL}"]
18 -> 22 [label = "t_34:{Greater_out:SECRET:BOOL}"]
19 -> 21 [label = "t_35:{constant_data:PUBLIC:INT64}"]
2 -> 3 [label = "t_6:{join_long_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_7:{join_long_0:PRIVATE:INT64}"]
20 -> 21 [label = "t_36:{constant_data:PUBLIC:INT64}"]
21 -> 23 [label = "t_37:{constant_data:PUBLIC:INT64}"]
21 -> 24 [label = "t_38:{constant_data:PUBLIC:INT64}"]
22 -> 25 [label = "t_40:{Greater_out:PRIVATE:BOOL}"]
23 -> 25 [label = "t_41:{constant_data:PRIVATE:INT64}"]
24 -> 25 [label = "t_42:{constant_data:PRIVATE:INT64}"]
25 -> 26 [label = "t_39:{constant_data:PRIVATE:INT64}"]
3 -> 8 [label = "t_10:{plain_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_8:{compare_long_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_9:{join_long_0:PRIVATE:INT64}"]
4 -> 6 [label = "t_12:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_11:{compare_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_12:{join_long_0:PRIVATE:INT64}"]
4 -> 9 [label = "t_13:{plain_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_14:{compare_long_0:PRIVATE:INT64}"]
5 -> 10 [label = "t_15:{join_long_0:PRIVATE:INT64}"]
5 -> 6 [label = "t_15:{join_long_0:PRIVATE:INT64}"]
6 -> 10 [label = "t_17:{join_long_0:PRIVATE:INT64}"]
6 -> 7 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
6 -> 9 [label = "t_16:{join_long_0:PRIVATE:INT64}"]
7 -> 8 [label = "t_18:{join_long_0:PRIVATE:INT64}"]
8 -> 11 [label = "t_19:{compare_long_0:PRIVATE:INT64}"]
8 -> 16 [label = "t_21:{plain_long_0:PRIVATE:INT64}"]
9 -> 12 [label = "t_22:{compare_long_0:PRIVATE:INT64}"]
9 -> 15 [label = "t_24:{plain_long_0:PRIVATE:INT64}"]
}`},
	{`select alice.groupby_int_0, alice.GROUPBY_int_1, bob.join_string_0, bob.JOIN_STRING_0, carol.COMPARE_float_0 > 0, carol.compare_float_1 > 0 from alice.UPPER_table as alice, bob.UPPER_table as bob, carol.UPPER_table as carol where alice.join_string_0 = bob.JOIN_string_0 and bob.join_string_1 = carol.JOIN_string_1;`, `digraph G {
0 [label="runsql:{in:[],out:[Out:{t_0,t_1,t_2,},],attr:[sql:select alice.GROUPBY_int_0,alice.JOIN_string_0,alice.groupby_int_1 from alice.UPPER_table as alice,table_refs:[alice.UPPER_table],],party:[alice,]}"]
1 [label="runsql:{in:[],out:[Out:{t_3,t_4,},],attr:[sql:select bob.JOIN_string_0,bob.join_string_1 from bob.UPPER_table as bob,table_refs:[bob.UPPER_table],],party:[bob,]}"]
2 [label="join:{in:[Left:{t_1,},Right:{t_3,},],out:[LeftJoinIndex:{t_5,},RightJoinIndex:{t_6,},],attr:[input_party_codes:[alice bob],join_type:0,],party:[alice,bob,]}"]
3 [label="filter_by_index:{in:[Data:{t_0,t_1,t_2,},RowsIndexFilter:{t_5,},],out:[Out:{t_7,t_8,t_9,},],attr:[],party:[alice,]}"]
4 [label="filter_by_index:{in:[Data:{t_3,t_4,},RowsIndexFilter:{t_6,},],out:[Out:{t_10,t_11,},],attr:[],party:[bob,]}"]
5 [label="runsql:{in:[],out:[Out:{t_12,t_13,t_14,},],attr:[sql:select carol.COMPARE_float_0,carol.compare_float_1,carol.join_string_1 from carol.UPPER_table as carol,table_refs:[carol.UPPER_table],],party:[carol,]}"]
6 [label="join:{in:[Left:{t_11,},Right:{t_14,},],out:[LeftJoinIndex:{t_15,},RightJoinIndex:{t_16,},],attr:[input_party_codes:[bob carol],join_type:0,],party:[bob,carol,]}"]
7 [label="copy:{in:[In:{t_15,},],out:[Out:{t_17,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
8 [label="filter_by_index:{in:[Data:{t_7,t_8,t_9,},RowsIndexFilter:{t_17,},],out:[Out:{t_18,t_19,t_20,},],attr:[],party:[alice,]}"]
9 [label="filter_by_index:{in:[Data:{t_10,t_11,},RowsIndexFilter:{t_15,},],out:[Out:{t_21,t_22,},],attr:[],party:[bob,]}"]
10 [label="filter_by_index:{in:[Data:{t_12,t_13,t_14,},RowsIndexFilter:{t_16,},],out:[Out:{t_23,t_24,t_25,},],attr:[],party:[carol,]}"]
11 [label="make_constant:{in:[],out:[Out:{t_26,},],attr:[scalar:0,to_status:1,],party:[alice,bob,carol,]}"]
12 [label="broadcast:{in:[In:{t_26,},ShapeRefTensor:{t_23,},],out:[Out:{t_27,},],attr:[],party:[carol,]}"]
13 [label="Greater:{in:[Left:{t_23,},Right:{t_27,},],out:[Out:{t_28,},],attr:[],party:[carol,]}"]
14 [label="make_constant:{in:[],out:[Out:{t_29,},],attr:[scalar:0,to_status:1,],party:[alice,bob,carol,]}"]
15 [label="broadcast:{in:[In:{t_29,},ShapeRefTensor:{t_24,},],out:[Out:{t_30,},],attr:[],party:[carol,]}"]
16 [label="Greater:{in:[Left:{t_24,},Right:{t_30,},],out:[Out:{t_31,},],attr:[],party:[carol,]}"]
17 [label="copy:{in:[In:{t_21,},],out:[Out:{t_34,},],attr:[input_party_codes:bob,output_party_codes:alice,],party:[bob,alice,]}"]
18 [label="copy:{in:[In:{t_28,},],out:[Out:{t_37,},],attr:[input_party_codes:carol,output_party_codes:alice,],party:[carol,alice,]}"]
19 [label="copy:{in:[In:{t_31,},],out:[Out:{t_39,},],attr:[input_party_codes:carol,output_party_codes:alice,],party:[carol,alice,]}"]
20 [label="publish:{in:[In:{t_18,t_20,t_34,t_34,t_37,t_39,},],out:[Out:{t_32,t_33,t_35,t_36,t_38,t_40,},],attr:[],party:[alice,]}"]
0 -> 2 [label = "t_1:{JOIN_string_0:PRIVATE:STRING}"]
0 -> 3 [label = "t_0:{GROUPBY_int_0:PRIVATE:INT64}"]
0 -> 3 [label = "t_1:{JOIN_string_0:PRIVATE:STRING}"]
0 -> 3 [label = "t_2:{groupby_int_1:PRIVATE:INT64}"]
1 -> 2 [label = "t_3:{JOIN_string_0:PRIVATE:STRING}"]
1 -> 4 [label = "t_3:{JOIN_string_0:PRIVATE:STRING}"]
1 -> 4 [label = "t_4:{join_string_1:PRIVATE:STRING}"]
10 -> 12 [label = "t_23:{COMPARE_float_0:PRIVATE:FLOAT32}"]
10 -> 13 [label = "t_23:{COMPARE_float_0:PRIVATE:FLOAT32}"]
10 -> 15 [label = "t_24:{compare_float_1:PRIVATE:FLOAT32}"]
10 -> 16 [label = "t_24:{compare_float_1:PRIVATE:FLOAT32}"]
11 -> 12 [label = "t_26:{constant_data:PUBLIC:INT64}"]
12 -> 13 [label = "t_27:{constant_data:PRIVATE:INT64}"]
13 -> 18 [label = "t_28:{Greater_out:PRIVATE:BOOL}"]
14 -> 15 [label = "t_29:{constant_data:PUBLIC:INT64}"]
15 -> 16 [label = "t_30:{constant_data:PRIVATE:INT64}"]
16 -> 19 [label = "t_31:{Greater_out:PRIVATE:BOOL}"]
17 -> 20 [label = "t_34:{JOIN_string_0:PRIVATE:STRING}"]
17 -> 20 [label = "t_34:{JOIN_string_0:PRIVATE:STRING}"]
18 -> 20 [label = "t_37:{Greater_out:PRIVATE:BOOL}"]
19 -> 20 [label = "t_39:{Greater_out:PRIVATE:BOOL}"]
2 -> 3 [label = "t_5:{JOIN_string_0:PRIVATE:INT64}"]
2 -> 4 [label = "t_6:{JOIN_string_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_7:{GROUPBY_int_0:PRIVATE:INT64}"]
3 -> 8 [label = "t_8:{JOIN_string_0:PRIVATE:STRING}"]
3 -> 8 [label = "t_9:{groupby_int_1:PRIVATE:INT64}"]
4 -> 6 [label = "t_11:{join_string_1:PRIVATE:STRING}"]
4 -> 9 [label = "t_10:{JOIN_string_0:PRIVATE:STRING}"]
4 -> 9 [label = "t_11:{join_string_1:PRIVATE:STRING}"]
5 -> 10 [label = "t_12:{COMPARE_float_0:PRIVATE:FLOAT32}"]
5 -> 10 [label = "t_13:{compare_float_1:PRIVATE:FLOAT32}"]
5 -> 10 [label = "t_14:{join_string_1:PRIVATE:STRING}"]
5 -> 6 [label = "t_14:{join_string_1:PRIVATE:STRING}"]
6 -> 10 [label = "t_16:{join_string_1:PRIVATE:INT64}"]
6 -> 7 [label = "t_15:{join_string_1:PRIVATE:INT64}"]
6 -> 9 [label = "t_15:{join_string_1:PRIVATE:INT64}"]
7 -> 8 [label = "t_17:{join_string_1:PRIVATE:INT64}"]
8 -> 20 [label = "t_18:{GROUPBY_int_0:PRIVATE:INT64}"]
8 -> 20 [label = "t_20:{groupby_int_1:PRIVATE:INT64}"]
9 -> 17 [label = "t_21:{JOIN_string_0:PRIVATE:STRING}"]
}`},
}
